2025-01-24 20:51:52.756 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 20:51:52.771 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 20:51:52.841 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 20:51:52.841 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 20:51:52.848 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 20:51:52.849 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 20:51:52.856 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 20:51:52.856 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 20:51:52.862 [main] TRACE UserController - Entering login method in UserController
2025-01-24 20:51:52.865 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 20:51:52.873 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 20:51:52.874 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 20:51:52.879 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 20:51:52.879 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 20:51:53.011 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 20:51:53.067 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.069 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.191 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQxMTEzLCJleHAiOjE3Mzc3NDQ3MTN9.xJZsotvXbIQKKIFITUc9n0izY6M6bj8QJYd9DU19Wbc
2025-01-24 20:51:53.196 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 20:51:53.197 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 20:51:53.197 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.222 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.222 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.249 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 20:51:53.250 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 20:51:53.250 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.250 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.253 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTExMywiZXhwIjoxNzM3NzQ0NzEzfQ.k8wnsytW_-dwGmKrG_ethhf7BXg_nYdMTXpPEY8ToeU
2025-01-24 20:51:53.254 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTExMywiZXhwIjoxNzM3NzQ0NzEzfQ.k8wnsytW_-dwGmKrG_ethhf7BXg_nYdMTXpPEY8ToeU
2025-01-24 20:51:53.254 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 20:51:53.255 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.255 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.255 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.285 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.285 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 20:51:53.288 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 20:51:53.290 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 20:51:53.290 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.290 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.291 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQxMTEzLCJleHAiOjE3Mzc4Mjc1MTN9.yTlY9fzm_b1veE416fYadFJWX-UDoRViVYhIyquy9a8
2025-01-24 20:51:53.292 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQxMTEzLCJleHAiOjE3Mzc4Mjc1MTN9.yTlY9fzm_b1veE416fYadFJWX-UDoRViVYhIyquy9a8
2025-01-24 20:51:53.296 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 20:51:53.296 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 20:51:53.296 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.297 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.297 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDExMTMsImV4cCI6MTczNzc0NDcxM30.WiRg1mgJvmXtCZbG0pgtuWAFSB7TSt-mEgsRI92wQrM
2025-01-24 20:51:53.297 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDExMTMsImV4cCI6MTczNzc0NDcxM30.WiRg1mgJvmXtCZbG0pgtuWAFSB7TSt-mEgsRI92wQrM
2025-01-24 20:51:53.297 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 20:51:53.297 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 20:51:53.298 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.298 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.298 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.299 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.299 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 20:51:53.299 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 20:51:53.303 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 20:51:53.303 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 20:51:53.304 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.304 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.305 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTExMywiZXhwIjoxNzM3NzQ0NzEzfQ.k8wnsytW_-dwGmKrG_ethhf7BXg_nYdMTXpPEY8ToeU
2025-01-24 20:51:53.305 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTExMywiZXhwIjoxNzM3NzQ0NzEzfQ.k8wnsytW_-dwGmKrG_ethhf7BXg_nYdMTXpPEY8ToeU
2025-01-24 20:51:53.311 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 20:51:53.312 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 20:51:53.312 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.312 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.313 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDExMTMsImV4cCI6MTczNzc0NDcxM30.WiRg1mgJvmXtCZbG0pgtuWAFSB7TSt-mEgsRI92wQrM
2025-01-24 20:51:53.313 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDExMTMsImV4cCI6MTczNzc0NDcxM30.WiRg1mgJvmXtCZbG0pgtuWAFSB7TSt-mEgsRI92wQrM
2025-01-24 20:51:53.314 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 20:51:53.314 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 20:51:53.314 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 20:51:53.314 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.314 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.314 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.315 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.315 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 20:51:53.315 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 20:51:53.316 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 20:51:53.316 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 20:51:53.316 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 20:51:53.317 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.317 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 20:51:53.317 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 20:51:53.318 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 20:51:53.318 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-24T21:51:53.000+0300
2025-01-24 20:51:53.320 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-24T21:51:53.000+0300
2025-01-24 20:51:53.320 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 20:51:53.320 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 20:51:53.428 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 20:51:53.429 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 20:51:53.433 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 20:51:53.433 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 20:51:53.434 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 20:51:53.438 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 20:51:53.441 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 20:51:54.092 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 20:51:54.092 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 20:51:54.093 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 20:51:54.093 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 20:51:54.105 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 20:51:54.105 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 20:51:54.107 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 20:51:54.124 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 20:51:54.124 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 20:51:54.125 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 20:51:55.897 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 20:51:55.897 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 20:51:55.899 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:250) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 20:51:55.919 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 20:51:55.920 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 20:51:55.926 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 20:51:55.927 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 20:51:55.933 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 20:51:55.934 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 20:51:55.934 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 20:51:55.935 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 20:51:55.942 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 20:51:55.942 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 20:51:55.943 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 20:51:55.948 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 20:51:55.948 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 20:51:55.949 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 20:51:55.954 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 20:51:55.954 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 20:51:55.954 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 20:51:55.961 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 20:51:55.961 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 20:51:55.962 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 20:51:55.962 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 20:51:55.969 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 20:51:55.969 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 20:51:55.975 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 20:51:55.976 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 20:51:55.981 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 20:51:55.982 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 20:51:55.987 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 20:51:55.987 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 20:51:55.987 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 20:51:55.987 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 20:51:55.993 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 20:51:55.993 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 20:51:55.999 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 20:51:55.999 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 20:51:56.000 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 20:51:56.004 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 20:51:56.005 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 20:51:56.005 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 20:51:56.010 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 20:51:56.011 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 20:51:56.011 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 20:51:56.011 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 20:51:56.016 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 20:51:56.016 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 20:51:56.020 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 20:51:56.024 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 20:51:56.025 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 20:51:56.025 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 20:51:56.031 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 20:51:56.031 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 20:51:56.031 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 20:51:56.035 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 20:51:56.036 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 20:51:56.041 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 20:51:56.041 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 20:51:56.041 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 20:51:56.046 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 20:51:56.047 [main] ERROR UserServiceImpl - User not found
2025-01-24 20:51:56.051 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 20:51:56.051 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 20:51:56.051 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 20:51:56.051 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 20:51:56.051 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 20:51:56.051 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 20:51:56.056 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 20:51:56.056 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 20:51:56.056 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 20:51:56.056 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 20:51:56.056 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 20:51:56.056 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 20:51:56.061 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 20:51:56.061 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 20:51:56.062 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 20:51:56.062 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 20:51:56.066 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 20:51:56.066 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 20:51:56.071 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 20:51:56.071 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 20:51:56.071 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 20:51:56.075 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 20:51:56.076 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 20:51:56.076 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 20:51:56.076 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 20:51:56.076 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 20:51:56.077 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 20:51:56.077 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 20:51:56.081 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 20:51:56.082 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 20:51:56.086 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 20:51:56.086 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 20:51:56.087 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 20:51:56.087 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 20:51:56.091 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 20:51:56.091 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 20:51:56.091 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 20:51:56.095 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 20:51:56.095 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 20:51:56.095 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 20:51:56.098 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 20:51:56.099 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 20:51:56.099 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 20:51:56.102 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 20:51:56.103 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 20:51:56.107 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 20:51:56.108 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 20:51:56.108 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 20:51:56.113 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 20:51:56.113 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 20:51:56.113 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 20:51:56.114 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 20:51:56.114 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 20:51:56.114 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 20:51:56.114 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 20:51:56.115 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 20:51:56.115 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 20:51:56.115 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 20:51:56.117 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 20:51:56.117 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 20:51:56.117 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 20:51:56.123 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 20:51:56.124 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 20:51:56.124 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 20:51:56.131 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 20:51:56.132 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 20:51:56.132 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 20:51:56.133 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 20:51:56.133 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 20:51:56.133 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 20:51:56.133 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 20:51:56.133 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 20:51:56.134 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 20:51:56.134 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 20:51:56.134 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 20:51:56.134 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 20:51:56.135 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 20:51:56.135 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 20:51:56.225 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 20:51:56.242 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 21:00:24.954 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 21:00:24.971 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 21:00:25.040 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 21:00:25.041 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 21:00:25.063 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 21:00:25.065 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 21:00:25.072 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 21:00:25.072 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 21:00:25.078 [main] TRACE UserController - Entering login method in UserController
2025-01-24 21:00:25.089 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 21:00:25.100 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 21:00:25.100 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 21:00:25.108 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 21:00:25.108 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 21:00:25.328 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 21:00:25.403 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.405 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.645 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQxNjI1LCJleHAiOjE3Mzc3NDUyMjV9.r1o6fnywiljgDXdT89bSyl0BLrNYD5HTMsbJdkZxWG8
2025-01-24 21:00:25.657 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 21:00:25.658 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 21:00:25.658 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.687 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.688 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.741 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 21:00:25.742 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 21:00:25.743 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.744 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.748 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTYyNSwiZXhwIjoxNzM3NzQ1MjI1fQ.fILfPryAbWQ5BDE9wHTbpVpLWico1kXAN0wUAhtdyqA
2025-01-24 21:00:25.748 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTYyNSwiZXhwIjoxNzM3NzQ1MjI1fQ.fILfPryAbWQ5BDE9wHTbpVpLWico1kXAN0wUAhtdyqA
2025-01-24 21:00:25.749 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 21:00:25.749 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.749 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.749 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.803 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.804 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 21:00:25.807 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 21:00:25.808 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 21:00:25.808 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.808 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.810 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQxNjI1LCJleHAiOjE3Mzc4MjgwMjV9.HqLAjHQw4fgr3ZhLj75T2aY8vm4PgvtuhtJVKjqqIaE
2025-01-24 21:00:25.810 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQxNjI1LCJleHAiOjE3Mzc4MjgwMjV9.HqLAjHQw4fgr3ZhLj75T2aY8vm4PgvtuhtJVKjqqIaE
2025-01-24 21:00:25.814 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 21:00:25.814 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 21:00:25.815 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.815 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.816 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDE2MjUsImV4cCI6MTczNzc0NTIyNX0.20Oe13DNU1wp88_UpU9UnQgAOxbxNQCaFAxXEntcMp8
2025-01-24 21:00:25.817 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDE2MjUsImV4cCI6MTczNzc0NTIyNX0.20Oe13DNU1wp88_UpU9UnQgAOxbxNQCaFAxXEntcMp8
2025-01-24 21:00:25.817 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 21:00:25.817 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 21:00:25.817 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.818 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.818 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.820 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.820 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 21:00:25.820 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 21:00:25.826 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 21:00:25.826 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 21:00:25.826 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.827 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.828 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTYyNSwiZXhwIjoxNzM3NzQ1MjI1fQ.fILfPryAbWQ5BDE9wHTbpVpLWico1kXAN0wUAhtdyqA
2025-01-24 21:00:25.829 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0MTYyNSwiZXhwIjoxNzM3NzQ1MjI1fQ.fILfPryAbWQ5BDE9wHTbpVpLWico1kXAN0wUAhtdyqA
2025-01-24 21:00:25.834 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 21:00:25.834 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 21:00:25.835 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.835 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.836 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDE2MjUsImV4cCI6MTczNzc0NTIyNX0.20Oe13DNU1wp88_UpU9UnQgAOxbxNQCaFAxXEntcMp8
2025-01-24 21:00:25.837 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDE2MjUsImV4cCI6MTczNzc0NTIyNX0.20Oe13DNU1wp88_UpU9UnQgAOxbxNQCaFAxXEntcMp8
2025-01-24 21:00:25.837 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 21:00:25.837 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 21:00:25.837 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 21:00:25.837 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.837 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.839 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.840 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.840 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 21:00:25.840 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 21:00:25.841 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 21:00:25.841 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 21:00:25.841 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 21:00:25.841 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.843 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 21:00:25.843 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 21:00:25.845 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 21:00:25.848 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-24T22:00:25.000+0300
2025-01-24 21:00:25.853 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-24T22:00:25.000+0300
2025-01-24 21:00:25.853 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 21:00:25.853 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 21:00:26.067 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 21:00:26.068 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 21:00:26.074 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 21:00:26.074 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 21:00:26.075 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 21:00:26.080 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 21:00:26.086 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 21:00:27.055 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 21:00:27.056 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 21:00:27.056 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 21:00:27.057 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 21:00:27.078 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 21:00:27.079 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 21:00:27.083 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 21:00:27.118 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 21:00:27.118 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 21:00:27.118 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 21:00:29.297 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 21:00:29.299 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 21:00:29.301 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:250) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 21:00:29.324 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 21:00:29.324 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 21:00:29.333 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 21:00:29.335 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 21:00:29.344 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 21:00:29.344 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 21:00:29.345 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 21:00:29.345 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 21:00:29.354 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 21:00:29.355 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 21:00:29.356 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 21:00:29.370 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 21:00:29.370 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 21:00:29.371 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 21:00:29.382 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 21:00:29.382 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 21:00:29.382 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 21:00:29.395 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 21:00:29.396 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 21:00:29.396 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 21:00:29.397 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 21:00:29.407 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 21:00:29.409 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 21:00:29.416 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 21:00:29.416 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 21:00:29.425 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 21:00:29.426 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 21:00:29.438 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 21:00:29.439 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 21:00:29.441 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 21:00:29.441 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 21:00:29.454 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 21:00:29.455 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 21:00:29.464 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 21:00:29.464 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 21:00:29.464 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 21:00:29.471 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 21:00:29.472 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 21:00:29.472 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 21:00:29.483 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 21:00:29.484 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 21:00:29.486 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 21:00:29.486 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 21:00:29.496 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 21:00:29.497 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 21:00:29.503 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 21:00:29.510 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 21:00:29.511 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 21:00:29.511 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 21:00:29.519 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 21:00:29.519 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 21:00:29.520 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 21:00:29.526 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 21:00:29.527 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 21:00:29.546 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 21:00:29.547 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 21:00:29.547 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 21:00:29.556 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 21:00:29.559 [main] ERROR UserServiceImpl - User not found
2025-01-24 21:00:29.565 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 21:00:29.566 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 21:00:29.566 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 21:00:29.566 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 21:00:29.567 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 21:00:29.567 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 21:00:29.573 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 21:00:29.574 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 21:00:29.574 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 21:00:29.574 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 21:00:29.575 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 21:00:29.575 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 21:00:29.585 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 21:00:29.587 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 21:00:29.587 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 21:00:29.588 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 21:00:29.594 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 21:00:29.595 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 21:00:29.602 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 21:00:29.603 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 21:00:29.603 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 21:00:29.611 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 21:00:29.612 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 21:00:29.612 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 21:00:29.613 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 21:00:29.613 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 21:00:29.613 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 21:00:29.613 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 21:00:29.620 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 21:00:29.621 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 21:00:29.631 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 21:00:29.632 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 21:00:29.633 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 21:00:29.633 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 21:00:29.640 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 21:00:29.640 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 21:00:29.641 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 21:00:29.646 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 21:00:29.646 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 21:00:29.647 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 21:00:29.653 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 21:00:29.653 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 21:00:29.654 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 21:00:29.659 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 21:00:29.660 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 21:00:29.673 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 21:00:29.673 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 21:00:29.673 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 21:00:29.681 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 21:00:29.682 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 21:00:29.682 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 21:00:29.682 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 21:00:29.683 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 21:00:29.684 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 21:00:29.684 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 21:00:29.684 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 21:00:29.684 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 21:00:29.684 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 21:00:29.691 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 21:00:29.691 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 21:00:29.691 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 21:00:29.696 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 21:00:29.696 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 21:00:29.696 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 21:00:29.703 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 21:00:29.704 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 21:00:29.704 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 21:00:29.705 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 21:00:29.705 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 21:00:29.705 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 21:00:29.706 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 21:00:29.706 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 21:00:29.706 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 21:00:29.706 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 21:00:29.707 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 21:00:29.708 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 21:00:29.708 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 21:00:29.708 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 21:00:29.796 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 21:00:29.819 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 22:54:51.378 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 22:54:51.387 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 22:54:51.444 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 22:54:51.444 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 22:54:51.451 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 22:54:51.452 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 22:54:51.459 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 22:54:51.460 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 22:54:51.466 [main] TRACE UserController - Entering login method in UserController
2025-01-24 22:54:51.471 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 22:54:51.478 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 22:54:51.479 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 22:54:51.485 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 22:54:51.485 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 22:54:51.604 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:54:51.647 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.649 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.787 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4NDkxLCJleHAiOjE3Mzc3NTIwOTF9.Or23foQOw034vmehlDIXOz_thZ3CiwTsac6mLAd7vDA
2025-01-24 22:54:51.793 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 22:54:51.794 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:54:51.794 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.816 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.816 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.842 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:54:51.842 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:54:51.842 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.843 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.846 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODQ5MSwiZXhwIjoxNzM3NzUyMDkxfQ.IJLUDj23i0EUjC0svFeKkJhRszdc3E-4dqo7k5BOfII
2025-01-24 22:54:51.846 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODQ5MSwiZXhwIjoxNzM3NzUyMDkxfQ.IJLUDj23i0EUjC0svFeKkJhRszdc3E-4dqo7k5BOfII
2025-01-24 22:54:51.846 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:54:51.846 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.847 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.847 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.876 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.877 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 22:54:51.881 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 22:54:51.882 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 22:54:51.883 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.883 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.884 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4NDkxLCJleHAiOjE3Mzc4MzQ4OTF9.mV_7IBI0B0gEjUSYveMz2z6Gb1RGppI0jJWpdgVf3LQ
2025-01-24 22:54:51.884 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4NDkxLCJleHAiOjE3Mzc4MzQ4OTF9.mV_7IBI0B0gEjUSYveMz2z6Gb1RGppI0jJWpdgVf3LQ
2025-01-24 22:54:51.888 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:54:51.888 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:54:51.889 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.889 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.890 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg0OTEsImV4cCI6MTczNzc1MjA5MX0.DEXg3su7sOiqS4g4hUXyyBe4ythaBv3GcWPK-9wHHHc
2025-01-24 22:54:51.890 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg0OTEsImV4cCI6MTczNzc1MjA5MX0.DEXg3su7sOiqS4g4hUXyyBe4ythaBv3GcWPK-9wHHHc
2025-01-24 22:54:51.890 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 22:54:51.890 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:54:51.890 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.890 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.890 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.891 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.892 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 22:54:51.892 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 22:54:51.895 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:54:51.896 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:54:51.896 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.896 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.897 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODQ5MSwiZXhwIjoxNzM3NzUyMDkxfQ.IJLUDj23i0EUjC0svFeKkJhRszdc3E-4dqo7k5BOfII
2025-01-24 22:54:51.897 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODQ5MSwiZXhwIjoxNzM3NzUyMDkxfQ.IJLUDj23i0EUjC0svFeKkJhRszdc3E-4dqo7k5BOfII
2025-01-24 22:54:51.901 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:54:51.901 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:54:51.902 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.902 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.903 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg0OTEsImV4cCI6MTczNzc1MjA5MX0.DEXg3su7sOiqS4g4hUXyyBe4ythaBv3GcWPK-9wHHHc
2025-01-24 22:54:51.903 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg0OTEsImV4cCI6MTczNzc1MjA5MX0.DEXg3su7sOiqS4g4hUXyyBe4ythaBv3GcWPK-9wHHHc
2025-01-24 22:54:51.904 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 22:54:51.904 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 22:54:51.904 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:54:51.904 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.904 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.904 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.906 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.906 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 22:54:51.906 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 22:54:51.906 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 22:54:51.906 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 22:54:51.908 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:54:51.909 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.909 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:54:51.909 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:54:51.911 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:54:51.911 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-24T23:54:51.000+0300
2025-01-24 22:54:51.913 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-24T23:54:51.000+0300
2025-01-24 22:54:51.913 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 22:54:51.913 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 22:54:52.045 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 22:54:52.046 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 22:54:52.050 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 22:54:52.050 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 22:54:52.051 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 22:54:52.055 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 22:54:52.058 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 22:54:52.731 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:54:52.732 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:54:52.732 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:54:52.733 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 22:54:52.745 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:54:52.746 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:54:52.748 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 22:54:52.768 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:54:52.769 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:54:52.769 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 22:54:54.264 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:54:54.264 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:54:54.265 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 22:54:54.278 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 22:54:54.278 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 22:54:54.284 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:54:54.286 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 22:54:54.290 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:54:54.291 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:54:54.291 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 22:54:54.291 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 22:54:54.296 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:54:54.298 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:54:54.298 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 22:54:54.303 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:54:54.303 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:54:54.303 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 22:54:54.307 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:54:54.307 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 22:54:54.308 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 22:54:54.313 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:54:54.313 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:54:54.313 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:54:54.314 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 22:54:54.321 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 22:54:54.322 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 22:54:54.327 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 22:54:54.327 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 22:54:54.333 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 22:54:54.333 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 22:54:54.338 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:54:54.339 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 22:54:54.339 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 22:54:54.339 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 22:54:54.345 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:54:54.346 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 22:54:54.350 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:54:54.351 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:54:54.351 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 22:54:54.355 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:54:54.356 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:54:54.356 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 22:54:54.360 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:54:54.361 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 22:54:54.361 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 22:54:54.361 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 22:54:54.367 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 22:54:54.368 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 22:54:54.372 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 22:54:54.376 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 22:54:54.376 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 22:54:54.377 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 22:54:54.381 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:54:54.381 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 22:54:54.382 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 22:54:54.385 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 22:54:54.386 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 22:54:54.390 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 22:54:54.391 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 22:54:54.391 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 22:54:54.395 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 22:54:54.395 [main] ERROR UserServiceImpl - User not found
2025-01-24 22:54:54.399 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 22:54:54.400 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:54:54.400 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:54:54.400 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:54:54.400 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 22:54:54.400 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 22:54:54.405 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 22:54:54.405 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:54:54.405 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:54:54.406 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:54:54.406 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 22:54:54.406 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 22:54:54.411 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:54:54.411 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:54:54.411 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 22:54:54.411 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 22:54:54.417 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 22:54:54.417 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 22:54:54.420 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 22:54:54.421 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 22:54:54.421 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 22:54:54.425 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:54:54.426 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:54:54.426 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:54:54.426 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:54:54.426 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:54:54.426 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 22:54:54.426 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 22:54:54.431 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:54:54.432 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 22:54:54.436 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:54:54.436 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:54:54.436 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:54:54.436 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 22:54:54.439 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:54:54.440 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:54:54.440 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 22:54:54.443 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 22:54:54.443 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 22:54:54.443 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 22:54:54.447 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:54:54.447 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 22:54:54.447 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 22:54:54.452 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 22:54:54.452 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 22:54:54.456 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:54:54.456 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:54:54.457 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 22:54:54.462 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:54:54.462 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:54:54.462 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 22:54:54.463 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 22:54:54.463 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 22:54:54.463 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:54:54.463 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:54:54.464 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:54:54.464 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 22:54:54.464 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 22:54:54.466 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 22:54:54.467 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 22:54:54.467 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 22:54:54.471 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:54:54.471 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:54:54.472 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 22:54:54.475 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:54:54.475 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:54:54.476 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:54:54.476 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 22:54:54.476 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 22:54:54.476 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 22:54:54.476 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:54:54.476 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:54:54.476 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:54:54.477 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 22:54:54.477 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 22:54:54.477 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 22:54:54.477 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 22:54:54.477 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 22:54:54.546 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 22:54:54.561 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 22:58:00.961 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 22:58:00.972 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 22:58:01.010 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 22:58:01.010 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 22:58:01.014 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 22:58:01.015 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 22:58:01.020 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 22:58:01.020 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 22:58:01.026 [main] TRACE UserController - Entering login method in UserController
2025-01-24 22:58:01.029 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 22:58:01.036 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 22:58:01.037 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 22:58:01.043 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 22:58:01.044 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 22:58:01.172 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:58:01.219 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.222 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.340 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4NjgxLCJleHAiOjE3Mzc3NTIyODF9.QqQmXGoJrbw7sdC0oR9juRJh6m-bruRpf8nqlvGHvOc
2025-01-24 22:58:01.346 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 22:58:01.347 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:58:01.347 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.368 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.369 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.392 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:58:01.392 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:58:01.392 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.393 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.395 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODY4MSwiZXhwIjoxNzM3NzUyMjgxfQ.00YSCgOiBesJ9oivxgb7MZIVaRfrydgvsRAA7M1oUnA
2025-01-24 22:58:01.396 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODY4MSwiZXhwIjoxNzM3NzUyMjgxfQ.00YSCgOiBesJ9oivxgb7MZIVaRfrydgvsRAA7M1oUnA
2025-01-24 22:58:01.396 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:58:01.396 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.396 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.396 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.424 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.424 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 22:58:01.428 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 22:58:01.428 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 22:58:01.429 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.429 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.429 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4NjgxLCJleHAiOjE3Mzc4MzUwODF9.tPxbK8FM-jhkuwKe1qpLxsTZHqvOWf8sP7amMnvthGs
2025-01-24 22:58:01.429 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4NjgxLCJleHAiOjE3Mzc4MzUwODF9.tPxbK8FM-jhkuwKe1qpLxsTZHqvOWf8sP7amMnvthGs
2025-01-24 22:58:01.433 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:58:01.433 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:58:01.434 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.434 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.435 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg2ODEsImV4cCI6MTczNzc1MjI4MX0.MfoXyBjBU5EPnVxuJwhFd3k3sky0KnNf7geFEA7aFM4
2025-01-24 22:58:01.435 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg2ODEsImV4cCI6MTczNzc1MjI4MX0.MfoXyBjBU5EPnVxuJwhFd3k3sky0KnNf7geFEA7aFM4
2025-01-24 22:58:01.435 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 22:58:01.435 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:58:01.435 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.436 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.436 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.437 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.437 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 22:58:01.437 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 22:58:01.441 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:58:01.442 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:58:01.442 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.442 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.443 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODY4MSwiZXhwIjoxNzM3NzUyMjgxfQ.00YSCgOiBesJ9oivxgb7MZIVaRfrydgvsRAA7M1oUnA
2025-01-24 22:58:01.443 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODY4MSwiZXhwIjoxNzM3NzUyMjgxfQ.00YSCgOiBesJ9oivxgb7MZIVaRfrydgvsRAA7M1oUnA
2025-01-24 22:58:01.447 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 22:58:01.448 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 22:58:01.448 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.448 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.449 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg2ODEsImV4cCI6MTczNzc1MjI4MX0.MfoXyBjBU5EPnVxuJwhFd3k3sky0KnNf7geFEA7aFM4
2025-01-24 22:58:01.449 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg2ODEsImV4cCI6MTczNzc1MjI4MX0.MfoXyBjBU5EPnVxuJwhFd3k3sky0KnNf7geFEA7aFM4
2025-01-24 22:58:01.449 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 22:58:01.449 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 22:58:01.449 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:58:01.449 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.449 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.451 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.452 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.452 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 22:58:01.452 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 22:58:01.453 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 22:58:01.453 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 22:58:01.453 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 22:58:01.454 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.454 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 22:58:01.454 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 22:58:01.456 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 22:58:01.456 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-24T23:58:01.000+0300
2025-01-24 22:58:01.457 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-24T23:58:01.000+0300
2025-01-24 22:58:01.458 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 22:58:01.458 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 22:58:01.570 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 22:58:01.571 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 22:58:01.574 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 22:58:01.574 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 22:58:01.575 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 22:58:01.580 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 22:58:01.583 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 22:58:02.125 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:58:02.126 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:58:02.126 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:58:02.126 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 22:58:02.137 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:58:02.137 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:58:02.140 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 22:58:02.158 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:58:02.158 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:58:02.158 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 22:58:03.195 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:58:03.195 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:58:03.196 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 22:58:03.212 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 22:58:03.212 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 22:58:03.218 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:58:03.219 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 22:58:03.224 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:58:03.225 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:58:03.225 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 22:58:03.225 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 22:58:03.231 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:58:03.232 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:58:03.232 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 22:58:03.237 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:58:03.238 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:58:03.238 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 22:58:03.243 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:58:03.243 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 22:58:03.243 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 22:58:03.248 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:58:03.248 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:58:03.248 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:58:03.250 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 22:58:03.255 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 22:58:03.255 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 22:58:03.260 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 22:58:03.261 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 22:58:03.266 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 22:58:03.266 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 22:58:03.270 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:58:03.270 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 22:58:03.270 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 22:58:03.270 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 22:58:03.276 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:58:03.276 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 22:58:03.281 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:58:03.281 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:58:03.281 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 22:58:03.285 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:58:03.285 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:58:03.285 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 22:58:03.289 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:58:03.290 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 22:58:03.290 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 22:58:03.290 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 22:58:03.295 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 22:58:03.295 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 22:58:03.300 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 22:58:03.303 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 22:58:03.304 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 22:58:03.304 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 22:58:03.308 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:58:03.308 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 22:58:03.308 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 22:58:03.312 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 22:58:03.312 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 22:58:03.317 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 22:58:03.317 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 22:58:03.317 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 22:58:03.322 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 22:58:03.322 [main] ERROR UserServiceImpl - User not found
2025-01-24 22:58:03.326 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 22:58:03.327 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:58:03.327 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:58:03.327 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:58:03.327 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 22:58:03.327 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 22:58:03.332 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 22:58:03.332 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:58:03.332 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:58:03.332 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:58:03.333 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 22:58:03.333 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 22:58:03.337 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:58:03.337 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:58:03.337 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 22:58:03.337 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 22:58:03.342 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 22:58:03.342 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 22:58:03.346 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 22:58:03.346 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 22:58:03.346 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 22:58:03.350 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:58:03.350 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:58:03.350 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:58:03.351 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:58:03.351 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:58:03.351 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 22:58:03.351 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 22:58:03.356 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 22:58:03.356 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 22:58:03.360 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:58:03.360 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:58:03.360 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:58:03.360 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 22:58:03.364 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 22:58:03.364 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 22:58:03.364 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 22:58:03.368 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 22:58:03.368 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 22:58:03.368 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 22:58:03.372 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 22:58:03.373 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 22:58:03.373 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 22:58:03.376 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 22:58:03.377 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 22:58:03.380 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:58:03.380 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:58:03.380 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 22:58:03.384 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 22:58:03.385 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 22:58:03.385 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 22:58:03.385 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 22:58:03.385 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 22:58:03.386 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:58:03.386 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:58:03.386 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:58:03.386 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 22:58:03.386 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 22:58:03.388 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 22:58:03.388 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 22:58:03.388 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 22:58:03.393 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 22:58:03.393 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 22:58:03.393 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 22:58:03.398 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 22:58:03.398 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 22:58:03.398 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 22:58:03.399 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 22:58:03.399 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 22:58:03.399 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 22:58:03.399 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 22:58:03.399 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 22:58:03.399 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 22:58:03.399 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 22:58:03.400 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 22:58:03.400 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 22:58:03.400 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 22:58:03.400 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 22:58:03.447 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 22:58:03.461 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 23:01:30.731 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 23:01:30.742 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 23:01:30.786 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 23:01:30.787 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 23:01:30.791 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 23:01:30.792 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 23:01:30.796 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 23:01:30.797 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 23:01:30.801 [main] TRACE UserController - Entering login method in UserController
2025-01-24 23:01:30.805 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 23:01:30.812 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 23:01:30.812 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 23:01:30.817 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 23:01:30.818 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 23:01:30.934 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:01:30.976 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:30.978 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.120 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4ODkwLCJleHAiOjE3Mzc3NTI0OTB9.HJsf8pQq3mFwQrLs4vO2hyiykchqVeJTKnvHBVhEFmQ
2025-01-24 23:01:31.125 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:01:31.126 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:01:31.126 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.151 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.152 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.175 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:01:31.175 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:01:31.175 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.175 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.179 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODg5MSwiZXhwIjoxNzM3NzUyNDkxfQ.o7s5XkeASyk1xpFlwc6oCrTPEuvFLMvKtO0m5uFHmwo
2025-01-24 23:01:31.179 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODg5MSwiZXhwIjoxNzM3NzUyNDkxfQ.o7s5XkeASyk1xpFlwc6oCrTPEuvFLMvKtO0m5uFHmwo
2025-01-24 23:01:31.179 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:01:31.180 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.180 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.180 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.208 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.208 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:01:31.211 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 23:01:31.211 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 23:01:31.211 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.212 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.212 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4ODkxLCJleHAiOjE3Mzc4MzUyOTF9.oy--D0Wm8bWp3j6EgKPNP9wSd9_iGvijboRv0MOrKGc
2025-01-24 23:01:31.212 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzQ4ODkxLCJleHAiOjE3Mzc4MzUyOTF9.oy--D0Wm8bWp3j6EgKPNP9wSd9_iGvijboRv0MOrKGc
2025-01-24 23:01:31.216 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:01:31.216 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:01:31.216 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.216 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.216 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg4OTEsImV4cCI6MTczNzc1MjQ5MX0.n59hVLXMOwc01Dbi4qAYI8Nu00casu-kAl58e0XwiwE
2025-01-24 23:01:31.217 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg4OTEsImV4cCI6MTczNzc1MjQ5MX0.n59hVLXMOwc01Dbi4qAYI8Nu00casu-kAl58e0XwiwE
2025-01-24 23:01:31.217 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:01:31.217 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:01:31.217 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.217 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.217 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.219 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.219 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:01:31.219 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:01:31.222 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:01:31.223 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:01:31.223 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.223 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.224 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODg5MSwiZXhwIjoxNzM3NzUyNDkxfQ.o7s5XkeASyk1xpFlwc6oCrTPEuvFLMvKtO0m5uFHmwo
2025-01-24 23:01:31.224 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc0ODg5MSwiZXhwIjoxNzM3NzUyNDkxfQ.o7s5XkeASyk1xpFlwc6oCrTPEuvFLMvKtO0m5uFHmwo
2025-01-24 23:01:31.227 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:01:31.227 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:01:31.227 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.228 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.228 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg4OTEsImV4cCI6MTczNzc1MjQ5MX0.n59hVLXMOwc01Dbi4qAYI8Nu00casu-kAl58e0XwiwE
2025-01-24 23:01:31.228 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NDg4OTEsImV4cCI6MTczNzc1MjQ5MX0.n59hVLXMOwc01Dbi4qAYI8Nu00casu-kAl58e0XwiwE
2025-01-24 23:01:31.228 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 23:01:31.228 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:01:31.228 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:01:31.228 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.229 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.229 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.229 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.230 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:01:31.230 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:01:31.230 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 23:01:31.230 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 23:01:31.231 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:01:31.231 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.231 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:01:31.231 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:01:31.232 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:01:31.232 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-25T00:01:31.000+0300
2025-01-24 23:01:31.234 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-25T00:01:31.000+0300
2025-01-24 23:01:31.234 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 23:01:31.234 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 23:01:31.342 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 23:01:31.343 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 23:01:31.347 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 23:01:31.348 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 23:01:31.349 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 23:01:31.351 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 23:01:31.355 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 23:01:31.931 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:01:31.932 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:01:31.932 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:01:31.932 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:01:31.943 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:01:31.943 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:01:31.946 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 23:01:31.961 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:01:31.961 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:01:31.961 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 23:01:33.036 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:01:33.036 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:01:33.037 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 23:01:33.053 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:01:33.053 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 23:01:33.058 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:01:33.060 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 23:01:33.065 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:01:33.065 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:01:33.066 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 23:01:33.066 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 23:01:33.073 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:01:33.073 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:01:33.074 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 23:01:33.078 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:01:33.079 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:01:33.079 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 23:01:33.083 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:01:33.083 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:01:33.084 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 23:01:33.090 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:01:33.091 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:01:33.091 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:01:33.091 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 23:01:33.097 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:01:33.098 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 23:01:33.102 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:01:33.103 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 23:01:33.107 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:01:33.109 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 23:01:33.113 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:01:33.113 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:01:33.114 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 23:01:33.114 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 23:01:33.118 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:01:33.119 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 23:01:33.123 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:01:33.124 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:01:33.124 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 23:01:33.128 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:01:33.129 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:01:33.129 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 23:01:33.135 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:01:33.135 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 23:01:33.136 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 23:01:33.136 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 23:01:33.141 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:01:33.141 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:01:33.145 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 23:01:33.150 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:01:33.151 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 23:01:33.151 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 23:01:33.155 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:01:33.155 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 23:01:33.156 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 23:01:33.160 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:01:33.160 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:01:33.163 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:01:33.164 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 23:01:33.164 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 23:01:33.168 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:01:33.168 [main] ERROR UserServiceImpl - User not found
2025-01-24 23:01:33.172 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 23:01:33.173 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:01:33.173 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:01:33.173 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:01:33.173 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 23:01:33.173 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 23:01:33.177 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:01:33.177 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:01:33.178 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:01:33.178 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:01:33.178 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 23:01:33.178 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 23:01:33.182 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:01:33.182 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:01:33.182 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 23:01:33.182 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 23:01:33.187 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:01:33.187 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 23:01:33.191 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:01:33.192 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 23:01:33.192 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 23:01:33.195 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:01:33.195 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:01:33.196 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:01:33.196 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:01:33.196 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:01:33.196 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 23:01:33.196 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 23:01:33.201 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:01:33.201 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 23:01:33.205 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:01:33.206 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:01:33.206 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:01:33.206 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:01:33.210 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:01:33.210 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:01:33.210 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 23:01:33.214 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:01:33.214 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 23:01:33.214 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 23:01:33.217 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:01:33.218 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:01:33.218 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 23:01:33.222 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:01:33.223 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 23:01:33.226 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:01:33.226 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:01:33.226 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 23:01:33.231 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:01:33.231 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:01:33.232 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 23:01:33.232 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:01:33.232 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:01:33.232 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:01:33.232 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:01:33.233 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:01:33.233 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:01:33.233 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:01:33.235 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:01:33.235 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:01:33.235 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 23:01:33.238 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:01:33.238 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:01:33.239 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 23:01:33.243 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:01:33.243 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:01:33.243 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:01:33.244 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 23:01:33.244 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:01:33.244 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:01:33.244 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:01:33.244 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:01:33.244 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:01:33.244 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:01:33.244 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:01:33.245 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:01:33.245 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:01:33.245 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 23:01:33.298 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 23:01:33.312 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 23:25:31.429 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 23:25:31.440 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 23:25:31.487 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 23:25:31.488 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 23:25:31.494 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 23:25:31.495 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 23:25:31.501 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 23:25:31.501 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 23:25:31.507 [main] TRACE UserController - Entering login method in UserController
2025-01-24 23:25:31.511 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 23:25:31.518 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 23:25:31.519 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 23:25:31.524 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 23:25:31.525 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 23:25:31.668 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:25:31.723 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.725 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.869 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUwMzMxLCJleHAiOjE3Mzc3NTM5MzF9.UJmTYYWwk1rp3NEcgimBhr17y_F_HE5HYEPsaVnlDtc
2025-01-24 23:25:31.874 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:25:31.874 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:25:31.874 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.892 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.893 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.914 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:25:31.915 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:25:31.915 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.915 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.917 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDMzMSwiZXhwIjoxNzM3NzUzOTMxfQ.8IWohkX3kKUF5WDHKPlGZIQ8-QZEVbWydTyutvrtdas
2025-01-24 23:25:31.918 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDMzMSwiZXhwIjoxNzM3NzUzOTMxfQ.8IWohkX3kKUF5WDHKPlGZIQ8-QZEVbWydTyutvrtdas
2025-01-24 23:25:31.918 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:25:31.918 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.918 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.919 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.945 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.946 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:25:31.949 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 23:25:31.949 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 23:25:31.949 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.950 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.950 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUwMzMxLCJleHAiOjE3Mzc4MzY3MzF9.QzSGf9LaTDfrpopF2ok0kxEqc1lZ33UmxmSrAP2Ku4w
2025-01-24 23:25:31.950 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUwMzMxLCJleHAiOjE3Mzc4MzY3MzF9.QzSGf9LaTDfrpopF2ok0kxEqc1lZ33UmxmSrAP2Ku4w
2025-01-24 23:25:31.953 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:25:31.954 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:25:31.954 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.954 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.955 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTAzMzEsImV4cCI6MTczNzc1MzkzMX0.Na2F-9sgSNwsMTha8-uU8OBBpxbnOqZPAXdoP3MadBU
2025-01-24 23:25:31.955 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTAzMzEsImV4cCI6MTczNzc1MzkzMX0.Na2F-9sgSNwsMTha8-uU8OBBpxbnOqZPAXdoP3MadBU
2025-01-24 23:25:31.955 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:25:31.955 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:25:31.955 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.955 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.956 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.956 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.956 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:25:31.957 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:25:31.960 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:25:31.960 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:25:31.960 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.960 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.961 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDMzMSwiZXhwIjoxNzM3NzUzOTMxfQ.8IWohkX3kKUF5WDHKPlGZIQ8-QZEVbWydTyutvrtdas
2025-01-24 23:25:31.961 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDMzMSwiZXhwIjoxNzM3NzUzOTMxfQ.8IWohkX3kKUF5WDHKPlGZIQ8-QZEVbWydTyutvrtdas
2025-01-24 23:25:31.965 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:25:31.965 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:25:31.965 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.966 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.966 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTAzMzEsImV4cCI6MTczNzc1MzkzMX0.Na2F-9sgSNwsMTha8-uU8OBBpxbnOqZPAXdoP3MadBU
2025-01-24 23:25:31.966 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTAzMzEsImV4cCI6MTczNzc1MzkzMX0.Na2F-9sgSNwsMTha8-uU8OBBpxbnOqZPAXdoP3MadBU
2025-01-24 23:25:31.967 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 23:25:31.967 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:25:31.967 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:25:31.967 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.967 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.967 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.968 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.968 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:25:31.968 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:25:31.968 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 23:25:31.968 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 23:25:31.969 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:25:31.969 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.969 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:25:31.969 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:25:31.970 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:25:31.970 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-25T00:25:31.000+0300
2025-01-24 23:25:31.972 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-25T00:25:31.000+0300
2025-01-24 23:25:31.972 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 23:25:31.972 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 23:25:32.093 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 23:25:32.093 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 23:25:32.097 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 23:25:32.097 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 23:25:32.098 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 23:25:32.101 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 23:25:32.103 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 23:25:32.681 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:25:32.681 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:25:32.682 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:25:32.682 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:25:32.693 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:25:32.693 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:25:32.695 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 23:25:32.710 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:25:32.711 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:25:32.711 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 23:25:34.007 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:25:34.007 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:25:34.009 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 23:25:34.025 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:25:34.025 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 23:25:34.031 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:25:34.033 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 23:25:34.038 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:25:34.038 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:25:34.039 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 23:25:34.039 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 23:25:34.045 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:25:34.046 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:25:34.046 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 23:25:34.051 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:25:34.052 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:25:34.053 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 23:25:34.057 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:25:34.057 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:25:34.057 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 23:25:34.064 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:25:34.065 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:25:34.065 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:25:34.066 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 23:25:34.072 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:25:34.072 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 23:25:34.077 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:25:34.078 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 23:25:34.082 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:25:34.083 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 23:25:34.087 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:25:34.088 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:25:34.088 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 23:25:34.088 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 23:25:34.094 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:25:34.095 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 23:25:34.099 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:25:34.099 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:25:34.100 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 23:25:34.104 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:25:34.104 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:25:34.104 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 23:25:34.110 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:25:34.111 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 23:25:34.112 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 23:25:34.112 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 23:25:34.117 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:25:34.118 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:25:34.122 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 23:25:34.126 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:25:34.127 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 23:25:34.127 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 23:25:34.132 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:25:34.132 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 23:25:34.132 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 23:25:34.137 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:25:34.137 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:25:34.140 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:25:34.141 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 23:25:34.141 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 23:25:34.145 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:25:34.145 [main] ERROR UserServiceImpl - User not found
2025-01-24 23:25:34.149 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 23:25:34.149 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:25:34.149 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:25:34.150 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:25:34.150 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 23:25:34.150 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 23:25:34.155 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:25:34.155 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:25:34.155 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:25:34.155 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:25:34.156 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 23:25:34.156 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 23:25:34.160 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:25:34.160 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:25:34.161 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 23:25:34.161 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 23:25:34.165 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:25:34.165 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 23:25:34.169 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:25:34.170 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 23:25:34.170 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 23:25:34.175 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:25:34.175 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:25:34.176 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:25:34.176 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:25:34.176 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:25:34.176 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 23:25:34.176 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 23:25:34.180 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:25:34.181 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 23:25:34.184 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:25:34.184 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:25:34.184 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:25:34.186 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:25:34.189 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:25:34.190 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:25:34.190 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 23:25:34.194 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:25:34.195 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 23:25:34.195 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 23:25:34.199 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:25:34.199 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:25:34.200 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 23:25:34.203 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:25:34.203 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 23:25:34.206 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:25:34.206 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:25:34.207 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 23:25:34.211 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:25:34.212 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:25:34.212 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 23:25:34.212 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:25:34.213 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:25:34.213 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:25:34.213 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:25:34.213 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:25:34.213 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:25:34.213 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:25:34.215 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:25:34.216 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:25:34.216 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 23:25:34.221 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:25:34.222 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:25:34.222 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 23:25:34.227 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:25:34.228 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:25:34.228 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:25:34.228 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 23:25:34.228 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:25:34.228 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:25:34.229 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:25:34.229 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:25:34.229 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:25:34.229 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:25:34.229 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:25:34.230 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:25:34.230 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:25:34.230 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 23:25:34.293 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 23:25:34.308 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 23:32:54.073 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 23:32:54.086 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 23:32:54.133 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 23:32:54.133 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 23:32:54.138 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 23:32:54.138 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 23:32:54.142 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 23:32:54.143 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 23:32:54.146 [main] TRACE UserController - Entering login method in UserController
2025-01-24 23:32:54.148 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 23:32:54.154 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 23:32:54.154 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 23:32:54.157 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 23:32:54.157 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 23:32:54.255 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:32:54.292 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.294 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.423 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUwNzc0LCJleHAiOjE3Mzc3NTQzNzR9.Za8l8UNxGO57AOAqAQPyfCl8uklCv0j-Z-KcsIfck54
2025-01-24 23:32:54.429 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:32:54.430 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:32:54.430 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.448 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.449 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.469 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:32:54.470 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:32:54.471 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.471 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.473 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDc3NCwiZXhwIjoxNzM3NzU0Mzc0fQ.gQE4qTd3t7Ud-Xx2JSYzj0m_qtqaqlZpYDnbmtLdiTs
2025-01-24 23:32:54.473 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDc3NCwiZXhwIjoxNzM3NzU0Mzc0fQ.gQE4qTd3t7Ud-Xx2JSYzj0m_qtqaqlZpYDnbmtLdiTs
2025-01-24 23:32:54.474 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:32:54.474 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.474 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.474 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.501 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.501 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:32:54.508 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 23:32:54.508 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 23:32:54.508 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.509 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.509 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUwNzc0LCJleHAiOjE3Mzc4MzcxNzR9.ccdzDgvSv40w5qpPzT0EO7QP2O5m9dirxhMTSoDtAnM
2025-01-24 23:32:54.509 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUwNzc0LCJleHAiOjE3Mzc4MzcxNzR9.ccdzDgvSv40w5qpPzT0EO7QP2O5m9dirxhMTSoDtAnM
2025-01-24 23:32:54.512 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:32:54.513 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:32:54.513 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.513 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.514 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTA3NzQsImV4cCI6MTczNzc1NDM3NH0.un7EZGAtzrewpSaErBQv8W3fV-cyJ-a5K5Ot1y8k7zI
2025-01-24 23:32:54.514 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTA3NzQsImV4cCI6MTczNzc1NDM3NH0.un7EZGAtzrewpSaErBQv8W3fV-cyJ-a5K5Ot1y8k7zI
2025-01-24 23:32:54.514 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:32:54.514 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:32:54.514 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.515 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.515 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.516 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.516 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:32:54.516 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:32:54.520 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:32:54.520 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:32:54.520 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.520 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.521 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDc3NCwiZXhwIjoxNzM3NzU0Mzc0fQ.gQE4qTd3t7Ud-Xx2JSYzj0m_qtqaqlZpYDnbmtLdiTs
2025-01-24 23:32:54.522 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MDc3NCwiZXhwIjoxNzM3NzU0Mzc0fQ.gQE4qTd3t7Ud-Xx2JSYzj0m_qtqaqlZpYDnbmtLdiTs
2025-01-24 23:32:54.526 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:32:54.527 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:32:54.527 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.527 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.528 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTA3NzQsImV4cCI6MTczNzc1NDM3NH0.un7EZGAtzrewpSaErBQv8W3fV-cyJ-a5K5Ot1y8k7zI
2025-01-24 23:32:54.528 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTA3NzQsImV4cCI6MTczNzc1NDM3NH0.un7EZGAtzrewpSaErBQv8W3fV-cyJ-a5K5Ot1y8k7zI
2025-01-24 23:32:54.528 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 23:32:54.529 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:32:54.529 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:32:54.529 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.529 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.529 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.530 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.530 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:32:54.530 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:32:54.530 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 23:32:54.530 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 23:32:54.531 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:32:54.531 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.532 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:32:54.532 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:32:54.533 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:32:54.534 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-25T00:32:54.000+0300
2025-01-24 23:32:54.535 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-25T00:32:54.000+0300
2025-01-24 23:32:54.535 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 23:32:54.535 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 23:32:54.647 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 23:32:54.647 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 23:32:54.651 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 23:32:54.651 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 23:32:54.652 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 23:32:54.655 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 23:32:54.657 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 23:32:55.207 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:32:55.208 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:32:55.208 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:32:55.208 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:32:55.226 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:32:55.227 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:32:55.229 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 23:32:55.247 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:32:55.247 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:32:55.248 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 23:32:56.312 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:32:56.312 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:32:56.314 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 23:32:56.328 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:32:56.328 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 23:32:56.334 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:32:56.335 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 23:32:56.340 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:32:56.341 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:32:56.341 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 23:32:56.341 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 23:32:56.347 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:32:56.347 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:32:56.347 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 23:32:56.352 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:32:56.352 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:32:56.352 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 23:32:56.356 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:32:56.356 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:32:56.357 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 23:32:56.363 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:32:56.363 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:32:56.364 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:32:56.364 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 23:32:56.371 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:32:56.371 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 23:32:56.376 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:32:56.377 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 23:32:56.381 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:32:56.382 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 23:32:56.385 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:32:56.386 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:32:56.386 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 23:32:56.386 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 23:32:56.391 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:32:56.391 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 23:32:56.396 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:32:56.396 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:32:56.396 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 23:32:56.400 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:32:56.400 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:32:56.400 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 23:32:56.406 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:32:56.407 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 23:32:56.407 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 23:32:56.407 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 23:32:56.412 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:32:56.412 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:32:56.417 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 23:32:56.421 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:32:56.421 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 23:32:56.421 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 23:32:56.425 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:32:56.426 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 23:32:56.426 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 23:32:56.430 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:32:56.430 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:32:56.434 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:32:56.434 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 23:32:56.434 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 23:32:56.438 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:32:56.438 [main] ERROR UserServiceImpl - User not found
2025-01-24 23:32:56.442 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 23:32:56.443 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:32:56.443 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:32:56.443 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:32:56.443 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 23:32:56.443 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 23:32:56.447 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:32:56.448 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:32:56.448 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:32:56.448 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:32:56.448 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 23:32:56.448 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 23:32:56.452 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:32:56.452 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:32:56.452 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 23:32:56.452 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 23:32:56.456 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:32:56.457 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 23:32:56.460 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:32:56.461 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 23:32:56.461 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 23:32:56.465 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:32:56.465 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:32:56.466 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:32:56.466 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:32:56.466 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:32:56.466 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 23:32:56.466 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 23:32:56.472 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:32:56.473 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 23:32:56.479 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:32:56.479 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:32:56.479 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:32:56.479 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:32:56.483 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:32:56.483 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:32:56.483 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 23:32:56.486 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:32:56.487 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 23:32:56.487 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 23:32:56.490 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:32:56.490 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:32:56.491 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 23:32:56.495 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:32:56.495 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 23:32:56.498 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:32:56.498 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:32:56.499 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 23:32:56.503 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:32:56.503 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:32:56.504 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 23:32:56.504 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:32:56.504 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:32:56.504 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:32:56.504 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:32:56.505 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:32:56.505 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:32:56.505 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:32:56.507 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:32:56.507 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:32:56.507 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 23:32:56.511 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:32:56.511 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:32:56.511 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 23:32:56.516 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:32:56.516 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:32:56.516 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:32:56.516 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 23:32:56.516 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:32:56.516 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:32:56.516 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:32:56.516 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:32:56.517 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:32:56.517 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:32:56.517 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:32:56.518 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:32:56.518 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:32:56.518 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 23:32:56.569 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 23:32:56.583 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 23:50:40.635 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 23:50:40.649 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 23:50:40.708 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 23:50:40.708 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 23:50:40.713 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 23:50:40.714 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 23:50:40.718 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 23:50:40.718 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 23:50:40.723 [main] TRACE UserController - Entering login method in UserController
2025-01-24 23:50:40.726 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 23:50:40.732 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 23:50:40.732 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 23:50:40.737 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 23:50:40.737 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 23:50:40.951 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 23:50:40.951 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 23:50:40.955 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 23:50:40.956 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 23:50:40.957 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 23:50:40.961 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 23:50:40.963 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 23:50:41.519 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:50:41.520 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:50:41.520 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:50:41.520 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:50:41.531 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:50:41.532 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:50:41.534 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 23:50:41.550 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:50:41.550 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:50:41.551 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 23:50:42.768 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:50:42.768 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:50:42.770 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 23:50:42.787 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:50:42.787 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 23:50:42.793 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:50:42.794 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 23:50:42.800 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:50:42.801 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:50:42.801 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 23:50:42.801 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 23:50:42.809 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:50:42.809 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:50:42.810 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 23:50:42.814 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:50:42.814 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:50:42.815 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 23:50:42.819 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:50:42.819 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:50:42.819 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 23:50:42.825 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:50:42.825 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:50:42.825 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:50:42.826 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 23:50:42.833 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:50:42.833 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 23:50:42.837 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:50:42.839 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 23:50:42.842 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:50:42.843 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 23:50:42.847 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:50:42.848 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:50:42.848 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 23:50:42.848 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 23:50:42.854 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:50:42.855 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 23:50:42.859 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:50:42.859 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:50:42.860 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 23:50:42.864 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:50:42.865 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:50:42.865 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 23:50:42.870 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:50:42.871 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 23:50:42.871 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 23:50:42.871 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 23:50:42.877 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:50:42.877 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:50:42.882 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 23:50:42.885 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:50:42.886 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 23:50:42.886 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 23:50:42.890 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:50:42.891 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 23:50:42.891 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 23:50:42.895 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:50:42.895 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:50:42.899 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:50:42.899 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 23:50:42.899 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 23:50:42.903 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:50:42.903 [main] ERROR UserServiceImpl - User not found
2025-01-24 23:50:42.907 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 23:50:42.907 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:50:42.907 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:50:42.908 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:50:42.908 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 23:50:42.908 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 23:50:42.913 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:50:42.913 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:50:42.913 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:50:42.913 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:50:42.914 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 23:50:42.914 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 23:50:42.918 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:50:42.918 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:50:42.918 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 23:50:42.918 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 23:50:42.924 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:50:42.925 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 23:50:42.929 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:50:42.929 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 23:50:42.930 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 23:50:42.935 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:50:42.935 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:50:42.936 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:50:42.936 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:50:42.936 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:50:42.936 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 23:50:42.936 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 23:50:42.941 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:50:42.941 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 23:50:42.947 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:50:42.947 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:50:42.947 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:50:42.947 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:50:42.951 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:50:42.951 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:50:42.952 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 23:50:42.955 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:50:42.955 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 23:50:42.955 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 23:50:42.959 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:50:42.959 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:50:42.959 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 23:50:42.963 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:50:42.963 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 23:50:42.967 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:50:42.967 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:50:42.967 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 23:50:42.971 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:50:42.972 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:50:42.972 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 23:50:42.972 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:50:42.973 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:50:42.973 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:50:42.973 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:50:42.973 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:50:42.973 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:50:42.973 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:50:42.975 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:50:42.975 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:50:42.975 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 23:50:42.979 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:50:42.979 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:50:42.980 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 23:50:42.984 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:50:42.984 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:50:42.984 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:50:42.985 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 23:50:42.985 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:50:42.985 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:50:42.985 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:50:42.985 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:50:42.985 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:50:42.986 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:50:42.986 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:50:42.986 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:50:42.986 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:50:42.986 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 23:50:43.044 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 23:50:43.060 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 23:51:34.603 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 23:51:34.612 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 23:51:34.657 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 23:51:34.657 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 23:51:34.663 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 23:51:34.663 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 23:51:34.668 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 23:51:34.668 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 23:51:34.673 [main] TRACE UserController - Entering login method in UserController
2025-01-24 23:51:34.676 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 23:51:34.681 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 23:51:34.682 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 23:51:34.686 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 23:51:34.687 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 23:51:34.970 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 23:51:34.971 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 23:51:34.980 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 23:51:34.981 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 23:51:34.983 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 23:51:34.988 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 23:51:34.992 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 23:51:35.610 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:51:35.610 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:51:35.611 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:51:35.611 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:51:35.623 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:51:35.624 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:51:35.625 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 23:51:35.641 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:51:35.642 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:51:35.642 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 23:51:36.751 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:51:36.752 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:51:36.753 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 23:51:36.770 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:51:36.770 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 23:51:36.775 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:51:36.777 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 23:51:36.782 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:51:36.782 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:51:36.783 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 23:51:36.783 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 23:51:36.790 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:51:36.790 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:51:36.791 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 23:51:36.796 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:51:36.796 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:51:36.796 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 23:51:36.800 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:51:36.800 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:51:36.800 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 23:51:36.806 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:51:36.807 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:51:36.807 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:51:36.807 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 23:51:36.813 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:51:36.813 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 23:51:36.818 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:51:36.818 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 23:51:36.823 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:51:36.823 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 23:51:36.827 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:51:36.827 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:51:36.828 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 23:51:36.828 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 23:51:36.833 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:51:36.833 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 23:51:36.837 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:51:36.838 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:51:36.838 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 23:51:36.842 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:51:36.843 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:51:36.843 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 23:51:36.848 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:51:36.849 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 23:51:36.849 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 23:51:36.849 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 23:51:36.854 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:51:36.854 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:51:36.858 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 23:51:36.862 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:51:36.862 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 23:51:36.862 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 23:51:36.866 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:51:36.866 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 23:51:36.867 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 23:51:36.871 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:51:36.872 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:51:36.876 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:51:36.876 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 23:51:36.876 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 23:51:36.881 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:51:36.881 [main] ERROR UserServiceImpl - User not found
2025-01-24 23:51:36.885 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 23:51:36.885 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:51:36.886 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:51:36.886 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:51:36.886 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 23:51:36.886 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 23:51:36.890 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:51:36.890 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:51:36.890 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:51:36.891 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:51:36.891 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 23:51:36.891 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 23:51:36.895 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:51:36.895 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:51:36.895 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 23:51:36.895 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 23:51:36.900 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:51:36.900 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 23:51:36.904 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:51:36.905 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 23:51:36.905 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 23:51:36.909 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:51:36.909 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:51:36.909 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:51:36.909 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:51:36.909 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:51:36.910 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 23:51:36.910 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 23:51:36.915 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:51:36.915 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 23:51:36.919 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:51:36.920 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:51:36.920 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:51:36.920 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:51:36.924 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:51:36.924 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:51:36.925 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 23:51:36.928 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:51:36.929 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 23:51:36.929 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 23:51:36.933 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:51:36.933 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:51:36.933 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 23:51:36.937 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:51:36.937 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 23:51:36.941 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:51:36.941 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:51:36.941 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 23:51:36.945 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:51:36.945 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:51:36.945 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 23:51:36.945 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:51:36.946 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:51:36.946 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:51:36.946 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:51:36.946 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:51:36.946 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:51:36.947 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:51:36.948 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:51:36.949 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:51:36.949 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 23:51:36.953 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:51:36.953 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:51:36.953 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 23:51:36.957 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:51:36.958 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:51:36.958 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:51:36.958 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 23:51:36.958 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:51:36.958 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:51:36.959 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:51:36.959 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:51:36.959 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:51:36.959 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:51:36.959 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:51:36.959 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:51:36.960 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:51:36.960 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 23:51:37.009 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 23:51:37.022 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 23:56:32.595 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 23:56:32.605 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 23:56:32.655 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 23:56:32.655 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 23:56:32.660 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 23:56:32.661 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 23:56:32.666 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 23:56:32.666 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 23:56:32.672 [main] TRACE UserController - Entering login method in UserController
2025-01-24 23:56:32.675 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 23:56:32.679 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 23:56:32.680 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 23:56:32.684 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 23:56:32.685 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 23:56:32.790 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:56:32.829 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:32.831 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:32.949 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUyMTkyLCJleHAiOjE3Mzc3NTU3OTJ9.7DaTs7KFg2TPvQushRra4Jbq2XWOoR-cLt8M5Amta0A
2025-01-24 23:56:32.955 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:56:32.956 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:56:32.956 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:56:32.976 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:32.976 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:32.998 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:56:32.998 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:56:32.999 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:32.999 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.001 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjE5MiwiZXhwIjoxNzM3NzU1NzkyfQ.qQAMWk8FMVIWo6f-1cRMxrshYZEqK97ZS2ZgsnQKTsY
2025-01-24 23:56:33.002 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjE5MiwiZXhwIjoxNzM3NzU1NzkyfQ.qQAMWk8FMVIWo6f-1cRMxrshYZEqK97ZS2ZgsnQKTsY
2025-01-24 23:56:33.002 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:56:33.002 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.002 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.002 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.027 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.028 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:56:33.031 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 23:56:33.032 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 23:56:33.032 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.032 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.033 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUyMTkzLCJleHAiOjE3Mzc4Mzg1OTN9.V8z4wbxz1kG0Atlol6j1amjbskBZ0GZ3D4wBqZy1KCQ
2025-01-24 23:56:33.033 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUyMTkzLCJleHAiOjE3Mzc4Mzg1OTN9.V8z4wbxz1kG0Atlol6j1amjbskBZ0GZ3D4wBqZy1KCQ
2025-01-24 23:56:33.036 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:56:33.036 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:56:33.036 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.036 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.037 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIxOTMsImV4cCI6MTczNzc1NTc5M30.zfGD5AHnipyZzkRpuCuK1dD1MD8thRkGgcbc9gxvGpM
2025-01-24 23:56:33.037 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIxOTMsImV4cCI6MTczNzc1NTc5M30.zfGD5AHnipyZzkRpuCuK1dD1MD8thRkGgcbc9gxvGpM
2025-01-24 23:56:33.037 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:56:33.037 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:56:33.037 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.038 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.038 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.038 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.038 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:56:33.038 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:56:33.041 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:56:33.042 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:56:33.042 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.042 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.043 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjE5MywiZXhwIjoxNzM3NzU1NzkzfQ.GnpAJDnKZhsLZM9m9pFzT0heHUO3rrrHm_DRxZIRRuM
2025-01-24 23:56:33.043 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjE5MywiZXhwIjoxNzM3NzU1NzkzfQ.GnpAJDnKZhsLZM9m9pFzT0heHUO3rrrHm_DRxZIRRuM
2025-01-24 23:56:33.046 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:56:33.047 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:56:33.047 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.047 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.048 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIxOTMsImV4cCI6MTczNzc1NTc5M30.zfGD5AHnipyZzkRpuCuK1dD1MD8thRkGgcbc9gxvGpM
2025-01-24 23:56:33.048 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIxOTMsImV4cCI6MTczNzc1NTc5M30.zfGD5AHnipyZzkRpuCuK1dD1MD8thRkGgcbc9gxvGpM
2025-01-24 23:56:33.048 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 23:56:33.049 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:56:33.049 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:56:33.049 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.049 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.049 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.050 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.050 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:56:33.051 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:56:33.051 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 23:56:33.051 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 23:56:33.052 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:56:33.052 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.052 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:56:33.052 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:56:33.053 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:56:33.053 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-25T00:56:33.000+0300
2025-01-24 23:56:33.054 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-25T00:56:33.000+0300
2025-01-24 23:56:33.055 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 23:56:33.055 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 23:56:33.159 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 23:56:33.160 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 23:56:33.164 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 23:56:33.165 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 23:56:33.165 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 23:56:33.170 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 23:56:33.172 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 23:56:33.722 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:56:33.722 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:56:33.723 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:56:33.723 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:56:33.735 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:56:33.736 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:56:33.738 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 23:56:33.758 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:56:33.758 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:56:33.759 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 23:56:35.069 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:56:35.070 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:56:35.071 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 23:56:35.093 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:56:35.094 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 23:56:35.100 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:56:35.101 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 23:56:35.108 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:56:35.109 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:56:35.110 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 23:56:35.110 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 23:56:35.118 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:56:35.118 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:56:35.119 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 23:56:35.124 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:56:35.125 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:56:35.125 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 23:56:35.131 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:56:35.132 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:56:35.132 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 23:56:35.138 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:56:35.138 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:56:35.139 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:56:35.139 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 23:56:35.147 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:56:35.148 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 23:56:35.153 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:56:35.154 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 23:56:35.162 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:56:35.162 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 23:56:35.168 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:56:35.168 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:56:35.169 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 23:56:35.169 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 23:56:35.177 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:56:35.177 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 23:56:35.183 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:56:35.184 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:56:35.184 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 23:56:35.190 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:56:35.190 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:56:35.190 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 23:56:35.196 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:56:35.196 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 23:56:35.197 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 23:56:35.197 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 23:56:35.203 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:56:35.204 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:56:35.209 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 23:56:35.214 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:56:35.215 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 23:56:35.215 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 23:56:35.220 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:56:35.221 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 23:56:35.221 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 23:56:35.226 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:56:35.227 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:56:35.232 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:56:35.233 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 23:56:35.233 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 23:56:35.239 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:56:35.239 [main] ERROR UserServiceImpl - User not found
2025-01-24 23:56:35.244 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 23:56:35.244 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:56:35.244 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:56:35.244 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:56:35.245 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 23:56:35.245 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 23:56:35.251 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:56:35.251 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:56:35.252 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:56:35.252 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:56:35.252 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 23:56:35.252 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 23:56:35.256 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:56:35.256 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:56:35.256 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 23:56:35.257 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 23:56:35.260 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:56:35.261 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 23:56:35.264 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:56:35.265 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 23:56:35.265 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 23:56:35.268 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:56:35.268 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:56:35.269 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:56:35.269 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:56:35.269 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:56:35.269 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 23:56:35.269 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 23:56:35.273 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:56:35.274 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 23:56:35.278 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:56:35.278 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:56:35.278 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:56:35.279 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:56:35.282 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:56:35.283 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:56:35.283 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 23:56:35.286 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:56:35.287 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 23:56:35.287 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 23:56:35.290 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:56:35.291 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:56:35.291 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 23:56:35.295 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:56:35.295 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 23:56:35.299 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:56:35.299 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:56:35.299 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 23:56:35.305 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:56:35.305 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:56:35.305 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 23:56:35.306 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:56:35.306 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:56:35.307 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:56:35.307 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:56:35.307 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:56:35.307 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:56:35.307 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:56:35.310 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:56:35.311 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:56:35.311 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 23:56:35.315 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:56:35.315 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:56:35.316 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 23:56:35.321 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:56:35.322 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:56:35.322 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:56:35.322 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 23:56:35.322 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:56:35.323 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:56:35.323 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:56:35.323 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:56:35.323 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:56:35.323 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:56:35.323 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:56:35.324 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:56:35.324 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:56:35.324 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 23:56:35.388 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 23:56:35.407 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
2025-01-24 23:59:20.867 [main] TRACE UserController - Entering handlePasswordReset method in UserController
2025-01-24 23:59:20.878 [main] TRACE UserController - Exiting handlePasswordReset method in UserController
2025-01-24 23:59:20.923 [main] TRACE UserController - Entering verifyEmail method in UserController
2025-01-24 23:59:20.923 [main] TRACE UserController - Exiting verifyEmail method in UserController
2025-01-24 23:59:20.928 [main] TRACE UserController - Entering logout method in UserController
2025-01-24 23:59:20.928 [main] TRACE UserController - Exiting logout method in UserController
2025-01-24 23:59:20.934 [main] TRACE UserController - Entering changePassword method in UserController
2025-01-24 23:59:20.934 [main] TRACE UserController - Exiting changePassword method in UserController
2025-01-24 23:59:20.939 [main] TRACE UserController - Entering login method in UserController
2025-01-24 23:59:20.942 [main] TRACE UserController - Exiting login method in UserController
2025-01-24 23:59:20.947 [main] TRACE UserController - Entering refreshToken method in UserController
2025-01-24 23:59:20.948 [main] TRACE UserController - Exiting refreshToken method in UserController
2025-01-24 23:59:20.952 [main] TRACE UserController - Entering initiatePasswordReset method in UserController
2025-01-24 23:59:20.952 [main] TRACE UserController - Exiting initiatePasswordReset method in UserController
2025-01-24 23:59:21.063 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:59:21.101 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.103 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.232 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUyMzYxLCJleHAiOjE3Mzc3NTU5NjF9.CxuHISdL_dFu5VbXYF5DR0iMz5OI4dRO5e9TwNrTHtU
2025-01-24 23:59:21.239 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:59:21.239 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:59:21.240 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.260 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.260 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.285 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:59:21.285 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:59:21.285 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.285 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.288 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjM2MSwiZXhwIjoxNzM3NzU1OTYxfQ.jMZlVh4ePgh9sVSCgubNvh9KuRSaatkAHLuEsyg6nJs
2025-01-24 23:59:21.288 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjM2MSwiZXhwIjoxNzM3NzU1OTYxfQ.jMZlVh4ePgh9sVSCgubNvh9KuRSaatkAHLuEsyg6nJs
2025-01-24 23:59:21.288 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:59:21.288 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.289 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.289 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.314 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.315 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:59:21.317 [main] TRACE JwtServiceImpl - Entering generateRefreshToken method in JwtUtils class with username: user
2025-01-24 23:59:21.318 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 86400000
2025-01-24 23:59:21.318 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.318 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.319 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUyMzYxLCJleHAiOjE3Mzc4Mzg3NjF9.a5SrQIxd2rKDK-TKu4x7xOKw1sfo9xhv3tcLN3pqQQw
2025-01-24 23:59:21.319 [main] TRACE JwtServiceImpl - Exiting generateRefreshToken method in JwtUtils class with refreshToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwiaWF0IjoxNzM3NzUyMzYxLCJleHAiOjE3Mzc4Mzg3NjF9.a5SrQIxd2rKDK-TKu4x7xOKw1sfo9xhv3tcLN3pqQQw
2025-01-24 23:59:21.322 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:59:21.322 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:59:21.323 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.323 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.323 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIzNjEsImV4cCI6MTczNzc1NTk2MX0.LN2OGtaX-wlhopUwLVTufYZ-ud4usz0ujIoakoj_qAc
2025-01-24 23:59:21.324 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIzNjEsImV4cCI6MTczNzc1NTk2MX0.LN2OGtaX-wlhopUwLVTufYZ-ud4usz0ujIoakoj_qAc
2025-01-24 23:59:21.324 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:59:21.324 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:59:21.324 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.324 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.324 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.325 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.325 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:59:21.325 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:59:21.328 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:59:21.328 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:59:21.329 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.329 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.329 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjM2MSwiZXhwIjoxNzM3NzU1OTYxfQ.jMZlVh4ePgh9sVSCgubNvh9KuRSaatkAHLuEsyg6nJs
2025-01-24 23:59:21.330 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9VU0VSIl0sImlhdCI6MTczNzc1MjM2MSwiZXhwIjoxNzM3NzU1OTYxfQ.jMZlVh4ePgh9sVSCgubNvh9KuRSaatkAHLuEsyg6nJs
2025-01-24 23:59:21.333 [main] TRACE JwtServiceImpl - Entering generateAccessToken method in JwtUtils class with username: user
2025-01-24 23:59:21.333 [main] TRACE JwtServiceImpl - Entering buildToken method in JwtUtils class with claims and expiration: 3600000
2025-01-24 23:59:21.333 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.333 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.334 [main] TRACE JwtServiceImpl - Exiting buildToken method in JwtUtils class with token: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIzNjEsImV4cCI6MTczNzc1NTk2MX0.LN2OGtaX-wlhopUwLVTufYZ-ud4usz0ujIoakoj_qAc
2025-01-24 23:59:21.334 [main] TRACE JwtServiceImpl - Exiting generateAccessToken method in JwtUtils class with accessToken: eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyIiwicm9sZXMiOlsiUk9MRV9BRE1JTiJdLCJpYXQiOjE3Mzc3NTIzNjEsImV4cCI6MTczNzc1NTk2MX0.LN2OGtaX-wlhopUwLVTufYZ-ud4usz0ujIoakoj_qAc
2025-01-24 23:59:21.334 [main] TRACE JwtServiceImpl - Entering isTokenValid method in JwtUtils class with token and user: user
2025-01-24 23:59:21.335 [main] TRACE JwtServiceImpl - Entering extractUsername method in JwtUtils class
2025-01-24 23:59:21.335 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:59:21.335 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.335 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.335 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.336 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.336 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: user
2025-01-24 23:59:21.336 [main] TRACE JwtServiceImpl - Exiting extractUsername method in JwtUtils class with username: user
2025-01-24 23:59:21.336 [main] TRACE JwtServiceImpl - Entering isTokenExpired method in JwtUtils class
2025-01-24 23:59:21.336 [main] TRACE JwtServiceImpl - Entering extractExpiration method in JwtUtils class
2025-01-24 23:59:21.337 [main] TRACE JwtServiceImpl - Entering extractClaim method in JwtUtils class
2025-01-24 23:59:21.337 [main] TRACE JwtServiceImpl - Entering extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.337 [main] TRACE JwtServiceImpl - Entering getSignInKey method in JwtUtils class
2025-01-24 23:59:21.337 [main] TRACE JwtServiceImpl - Exiting getSignInKey method in JwtUtils class with key
2025-01-24 23:59:21.338 [main] TRACE JwtServiceImpl - Exiting extractAllClaims method in JwtUtils class
2025-01-24 23:59:21.338 [main] TRACE JwtServiceImpl - Exiting extractClaim method in JwtUtils class with claim: 2025-01-25T00:59:21.000+0300
2025-01-24 23:59:21.339 [main] TRACE JwtServiceImpl - Exiting extractExpiration method in JwtUtils class with expiration date: 2025-01-25T00:59:21.000+0300
2025-01-24 23:59:21.340 [main] TRACE JwtServiceImpl - Exiting isTokenExpired method in JwtUtils class with result: false
2025-01-24 23:59:21.340 [main] TRACE JwtServiceImpl - Exiting isTokenValid method in JwtUtils class with result: true
2025-01-24 23:59:21.446 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: nonexistentuser
2025-01-24 23:59:21.447 [main] ERROR UserDetailsServiceImpl - User not found with username: nonexistentuser
2025-01-24 23:59:21.451 [main] TRACE UserDetailsServiceImpl - Entering loadUserByUsername with username: testuser
2025-01-24 23:59:21.452 [main] INFO  UserDetailsServiceImpl - User found: testuser
2025-01-24 23:59:21.453 [main] DEBUG UserDetailsServiceImpl - Mapping role USER to authority ROLE_USER
2025-01-24 23:59:21.456 [main] INFO  UserDetailsServiceImpl - User authorities: [ROLE_USER]
2025-01-24 23:59:21.459 [main] TRACE UserDetailsServiceImpl - Exiting loadUserByUsername method in UserDetailsServiceImpl with username: testuser
2025-01-24 23:59:22.029 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:59:22.030 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:59:22.030 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:59:22.030 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:59:22.042 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:59:22.043 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:59:22.045 [main] ERROR UserServiceImpl - Email not verified for user: testUser
2025-01-24 23:59:22.062 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:59:22.063 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:59:22.063 [main] ERROR UserServiceImpl - User not found with username: testUser
2025-01-24 23:59:23.113 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:59:23.114 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:59:23.115 [main] ERROR UserServiceImpl - Failed to log out token in Redis
redis.clients.jedis.exceptions.JedisException: Redis error
	at redis.clients.jedis.Jedis.set(Jedis.java:4892) ~[jedis-5.0.2.jar:?]
	at com.lab.backend.auth.service.concretes.UserServiceImpl.logout(UserServiceImpl.java:255) ~[classes/:?]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.lambda$logout_withRedisFailure_shouldThrowRedisOperationException$11(UserServiceImplTest.java:354) ~[test-classes/:?]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:53) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.AssertThrows.assertThrows(AssertThrows.java:35) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at org.junit.jupiter.api.Assertions.assertThrows(Assertions.java:3115) ~[junit-jupiter-api-5.10.3.jar:5.10.3]
	at com.lab.backend.auth.service.concretes.UserServiceImplTest.logout_withRedisFailure_shouldThrowRedisOperationException(UserServiceImplTest.java:353) ~[test-classes/:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:728) ~[junit-platform-commons-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:218) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:214) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69) ~[junit-jupiter-engine-5.10.3.jar:5.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[?:?]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47) [junit-platform-launcher-1.10.3.jar:1.10.3]
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:56) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122) [surefire-junit-platform-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507) [surefire-booter-3.2.5.jar:3.2.5]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495) [surefire-booter-3.2.5.jar:3.2.5]
2025-01-24 23:59:23.129 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:59:23.129 [main] ERROR UserServiceImpl - No user found to remove role: nonExistingUser
2025-01-24 23:59:23.135 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:59:23.136 [main] ERROR UserServiceImpl - No valid roles found
2025-01-24 23:59:23.141 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:59:23.142 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:59:23.142 [main] INFO  UserServiceImpl - Token successfully logged out and saved in Redis
2025-01-24 23:59:23.142 [main] TRACE UserServiceImpl - Exiting logout method in UserServiceImpl
2025-01-24 23:59:23.148 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:59:23.148 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:59:23.149 [main] ERROR UserServiceImpl - Authentication failed for user: testUser
2025-01-24 23:59:23.154 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:59:23.154 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:59:23.155 [main] ERROR UserServiceImpl - User not found for username: testUser
2025-01-24 23:59:23.158 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:59:23.159 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:59:23.159 [main] ERROR UserServiceImpl - New password does not meet the minimum length requirement
2025-01-24 23:59:23.164 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:59:23.165 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:59:23.165 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:59:23.166 [main] ERROR UserServiceImpl - Email not verified for user testUser so refresh token cannot be done.
2025-01-24 23:59:23.172 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:59:23.172 [main] ERROR UserServiceImpl - Username is already taken: newUsername
2025-01-24 23:59:23.177 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:59:23.177 [main] ERROR UserServiceImpl - User with the given verification token not found
2025-01-24 23:59:23.182 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:59:23.182 [main] ERROR UserServiceImpl - Role not found: NON_EXISTING_ROLE
2025-01-24 23:59:23.186 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:59:23.187 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:59:23.187 [main] INFO  UserServiceImpl - Password reset successfully for user: testUser
2025-01-24 23:59:23.187 [main] TRACE UserServiceImpl - Exiting handlePasswordReset method in UserServiceImpl
2025-01-24 23:59:23.192 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:59:23.193 [main] ERROR UserServiceImpl - No role found for registration!
2025-01-24 23:59:23.198 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:59:23.198 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:59:23.199 [main] ERROR UserServiceImpl - Invalid token format to change password
2025-01-24 23:59:23.203 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:59:23.203 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:59:23.203 [main] ERROR UserServiceImpl - Invalid token format
2025-01-24 23:59:23.209 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:59:23.210 [main] INFO  UserServiceImpl - User 'newUser' created successfully
2025-01-24 23:59:23.210 [main] INFO  UserServiceImpl - Verification email sent to 'newUser@example.com'
2025-01-24 23:59:23.210 [main] TRACE UserServiceImpl - Exiting createUser method in UserServiceImpl
2025-01-24 23:59:23.215 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:59:23.215 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:59:23.219 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: invalidPort
2025-01-24 23:59:23.223 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:59:23.224 [main] INFO  UserServiceImpl - User 'newUsername' updated successfully
2025-01-24 23:59:23.224 [main] TRACE UserServiceImpl - Exiting updateUser method in UserServiceImpl
2025-01-24 23:59:23.228 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:59:23.228 [main] DEBUG UserServiceImpl - Handling password reset for token: invalidToken
2025-01-24 23:59:23.229 [main] ERROR UserServiceImpl - Invalid reset token provided
2025-01-24 23:59:23.233 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:59:23.233 [main] ERROR UserServiceImpl - User not found: username
2025-01-24 23:59:23.237 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:59:23.237 [main] INFO  UserServiceImpl - Role 'TECHNICIAN' added to user 'testUser'
2025-01-24 23:59:23.238 [main] TRACE UserServiceImpl - Exiting addRole method in UserServiceImpl
2025-01-24 23:59:23.242 [main] TRACE UserServiceImpl - Entering updateUser method in UserServiceImpl
2025-01-24 23:59:23.242 [main] ERROR UserServiceImpl - User not found
2025-01-24 23:59:23.246 [main] TRACE UserServiceImpl - Entering restoreUser method in UserServiceImpl
2025-01-24 23:59:23.247 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:59:23.247 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:59:23.247 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:59:23.247 [main] INFO  UserServiceImpl - User 'username' restored successfully
2025-01-24 23:59:23.247 [main] TRACE UserServiceImpl - Exiting restoreUser method in UserServiceImpl
2025-01-24 23:59:23.252 [main] TRACE UserServiceImpl - Entering deleteUser method in UserServiceImpl
2025-01-24 23:59:23.252 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:59:23.253 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:59:23.253 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:59:23.253 [main] INFO  UserServiceImpl - User 'username' marked as deleted
2025-01-24 23:59:23.253 [main] TRACE UserServiceImpl - Exiting deleteUser method in UserServiceImpl
2025-01-24 23:59:23.257 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:59:23.257 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:59:23.257 [main] INFO  UserServiceImpl - Extracted username from refresh token: null
2025-01-24 23:59:23.257 [main] ERROR UserServiceImpl - Username extraction failed from token
2025-01-24 23:59:23.261 [main] TRACE UserServiceImpl - Entering addRole method in UserServiceImpl
2025-01-24 23:59:23.261 [main] ERROR UserServiceImpl - No user found to add role: nonExistingUser
2025-01-24 23:59:23.264 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:59:23.265 [main] INFO  UserServiceImpl - Role 'ADMIN' removed from user 'testUser'
2025-01-24 23:59:23.265 [main] TRACE UserServiceImpl - Exiting removeRole method in UserServiceImpl
2025-01-24 23:59:23.269 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:59:23.269 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:59:23.269 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:59:23.269 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:59:23.270 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:59:23.270 [main] INFO  UserServiceImpl - Password changed successfully for user: testUser
2025-01-24 23:59:23.270 [main] TRACE UserServiceImpl - Exiting changePassword method in UserServiceImpl
2025-01-24 23:59:23.274 [main] TRACE UserServiceImpl - Entering createUser method in UserServiceImpl
2025-01-24 23:59:23.274 [main] ERROR UserServiceImpl - Username 'existingUser' is already taken
2025-01-24 23:59:23.278 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:59:23.279 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:59:23.279 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:59:23.279 [main] ERROR UserServiceImpl - User not found : testUser
2025-01-24 23:59:23.282 [main] TRACE UserServiceImpl - Entering changePassword method in UserServiceImpl
2025-01-24 23:59:23.282 [main] DEBUG UserServiceImpl - Password change request initiated
2025-01-24 23:59:23.283 [main] ERROR UserServiceImpl - Old password is incorrect for user: testUser
2025-01-24 23:59:23.286 [main] TRACE UserServiceImpl - Entering verifyEmail method in UserServiceImpl
2025-01-24 23:59:23.286 [main] INFO  UserServiceImpl - Email verified for user: testUser
2025-01-24 23:59:23.286 [main] TRACE UserServiceImpl - Exiting verifyEmail method in UserServiceImpl
2025-01-24 23:59:23.289 [main] TRACE UserServiceImpl - Entering handlePasswordReset method in UserServiceImpl
2025-01-24 23:59:23.290 [main] DEBUG UserServiceImpl - Handling password reset for token: validToken
2025-01-24 23:59:23.290 [main] ERROR UserServiceImpl - Reset token has expired for user: testUser
2025-01-24 23:59:23.293 [main] TRACE UserServiceImpl - Entering removeRole method in UserServiceImpl
2025-01-24 23:59:23.294 [main] ERROR UserServiceImpl - Role not found to remove: NON_EXISTING_ROLE
2025-01-24 23:59:23.298 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:59:23.298 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:59:23.298 [main] ERROR UserServiceImpl - Invalid token
2025-01-24 23:59:23.303 [main] TRACE UserServiceImpl - Entering login method in UserServiceImpl
2025-01-24 23:59:23.303 [main] DEBUG UserServiceImpl - Attempting to authenticate user: testUser
2025-01-24 23:59:23.304 [main] INFO  UserServiceImpl - User authenticated successfully: testUser
2025-01-24 23:59:23.304 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:59:23.304 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:59:23.305 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:59:23.305 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:59:23.305 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:59:23.305 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:59:23.305 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:59:23.307 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:59:23.307 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:59:23.307 [main] TRACE UserServiceImpl - Exiting login method in UserServiceImpl
2025-01-24 23:59:23.311 [main] TRACE UserServiceImpl - Entering logout method in UserServiceImpl
2025-01-24 23:59:23.312 [main] DEBUG UserServiceImpl - Logout initiated
2025-01-24 23:59:23.312 [main] ERROR UserServiceImpl - Token not found in repository
2025-01-24 23:59:23.317 [main] TRACE UserServiceImpl - Entering refreshToken method in UserServiceImpl
2025-01-24 23:59:23.318 [main] DEBUG UserServiceImpl - Attempting to refresh token
2025-01-24 23:59:23.318 [main] INFO  UserServiceImpl - Extracted username from refresh token: testUser
2025-01-24 23:59:23.318 [main] INFO  UserServiceImpl - Generating new tokens for user: testUser
2025-01-24 23:59:23.318 [main] TRACE UserServiceImpl - Entering getRolesAsString method in UserServiceImpl
2025-01-24 23:59:23.318 [main] TRACE UserServiceImpl - Exiting getRolesAsString method in UserServiceImpl
2025-01-24 23:59:23.319 [main] TRACE UserServiceImpl - Entering revokeAllTokensByUser method in UserServiceImpl
2025-01-24 23:59:23.319 [main] DEBUG UserServiceImpl - Revoking all tokens for user ID: 1
2025-01-24 23:59:23.319 [main] INFO  UserServiceImpl - No valid tokens found for user ID: 1
2025-01-24 23:59:23.319 [main] TRACE UserServiceImpl - Entering saveUserToken method in UserServiceImpl
2025-01-24 23:59:23.319 [main] DEBUG UserServiceImpl - Saving token for user: testUser
2025-01-24 23:59:23.319 [main] INFO  UserServiceImpl - Token saved in Redis for user: testUser
2025-01-24 23:59:23.320 [main] TRACE UserServiceImpl - Exiting saveUserToken method in UserServiceImpl
2025-01-24 23:59:23.320 [main] TRACE UserServiceImpl - Exiting refreshToken method in UserServiceImpl
2025-01-24 23:59:23.380 [main] TRACE UserServiceImpl - Initializing JedisPool with Redis Host: localhost and Port: 6379
2025-01-24 23:59:23.395 [main] TRACE UserServiceImpl - Exiting init method in UserServiceImpl
