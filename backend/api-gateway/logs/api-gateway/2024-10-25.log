2024-10-25 12:37:43.203 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.234 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 12:37:43.234 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 12:37:43.234 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2024-10-25 12:37:43.234 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2024-10-25 12:37:43.234 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2024-10-25 12:37:43.234 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2024-10-25 12:37:43.281 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.281 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 12:37:43.281 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 12:37:43.281 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2024-10-25 12:37:43.281 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2024-10-25 12:37:43.281 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2024-10-25 12:37:43.344 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.344 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2024-10-25 12:37:43.344 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2024-10-25 12:37:43.344 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2024-10-25 12:37:43.344 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2024-10-25 12:37:43.344 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2024-10-25 12:37:43.344 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2024-10-25 12:37:43.360 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.360 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 12:37:43.360 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 12:37:43.360 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2024-10-25 12:37:43.360 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.360 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 12:37:43.360 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 12:37:43.360 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2024-10-25 12:37:43.360 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2024-10-25 12:37:43.376 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.376 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 12:37:43.376 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 12:37:43.376 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2024-10-25 12:37:43.376 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.376 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 12:37:43.376 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 12:37:43.376 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2024-10-25 12:37:43.376 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2024-10-25 12:37:43.391 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 12:37:43.391 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 12:37:43.391 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2024-10-25 12:37:43.736 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2024-10-25 12:37:43.736 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2024-10-25 12:37:43.736 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2024-10-25 12:37:43.753 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2024-10-25 12:37:43.753 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2024-10-25 12:37:43.753 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2024-10-25 12:37:43.753 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2024-10-25 12:37:43.753 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2024-10-25 12:37:43.753 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2024-10-25 12:37:43.753 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2024-10-25 12:37:43.753 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2024-10-25 12:37:43.753 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2024-10-25 12:37:44.130 [main] TRACE JwtUtil - Entering getRoles method in JwtUtils
2024-10-25 12:37:44.146 [main] DEBUG JwtUtil - Extracting roles from claims: {}
2024-10-25 12:37:44.146 [main] INFO  JwtUtil - Roles extracted: [ROLE_ADMIN]
2024-10-25 12:37:44.146 [main] TRACE JwtUtil - Exiting getRoles method in JwtUtils
2024-10-25 12:37:46.379 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 12:37:46.379 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2024-10-25 12:37:46.379 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2024-10-25 12:37:46.379 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 12:37:46.379 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 12:37:46.379 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2024-10-25 12:37:46.379 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2024-10-25 12:37:46.379 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 12:37:46.379 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 12:37:46.394 [main] DEBUG JwtUtil - Checking if token is logged out: token
2024-10-25 12:37:46.394 [main] ERROR JwtUtil - Logout status information not found for token: token
2024-10-25 12:37:46.394 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 12:37:46.394 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2024-10-25 12:37:46.394 [main] DEBUG JwtUtil - Validating token: null
2024-10-25 12:37:46.521 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2024-10-25 12:37:46.521 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2024-10-25 12:37:46.536 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2024-10-25 12:37:46.536 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2024-10-25 12:37:46.568 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2024-10-25 12:37:46.568 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2024-10-25 12:37:46.583 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 12:37:46.583 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2024-10-25 12:37:46.583 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2024-10-25 12:37:46.583 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 12:37:46.583 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2024-10-25 12:37:46.740 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2024-10-25 12:37:46.740 [main] DEBUG JwtUtil - Validating token: invalidToken
2024-10-25 12:37:46.740 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2024-10-25 12:37:46.740 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2024-10-25 12:37:46.740 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2024-10-25 12:37:46.740 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2024-10-25 12:37:46.740 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2024-10-25 12:37:46.740 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2024-10-25 12:37:46.756 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2024-10-25 12:37:46.772 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
2024-10-25 18:38:13.368 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.399 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 18:38:13.399 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 18:38:13.399 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2024-10-25 18:38:13.399 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2024-10-25 18:38:13.399 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2024-10-25 18:38:13.399 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2024-10-25 18:38:13.462 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.462 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 18:38:13.462 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 18:38:13.462 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2024-10-25 18:38:13.462 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2024-10-25 18:38:13.462 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2024-10-25 18:38:13.524 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.524 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2024-10-25 18:38:13.524 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2024-10-25 18:38:13.524 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2024-10-25 18:38:13.524 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2024-10-25 18:38:13.540 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2024-10-25 18:38:13.540 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2024-10-25 18:38:13.540 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.540 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 18:38:13.540 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 18:38:13.540 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2024-10-25 18:38:13.555 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.555 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 18:38:13.555 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 18:38:13.555 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2024-10-25 18:38:13.555 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2024-10-25 18:38:13.571 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.571 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 18:38:13.571 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 18:38:13.571 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2024-10-25 18:38:13.571 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.571 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 18:38:13.571 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2024-10-25 18:38:13.571 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2024-10-25 18:38:13.571 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2024-10-25 18:38:13.587 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2024-10-25 18:38:13.587 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2024-10-25 18:38:13.587 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2024-10-25 18:38:13.962 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2024-10-25 18:38:13.962 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2024-10-25 18:38:13.962 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2024-10-25 18:38:13.962 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2024-10-25 18:38:13.962 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2024-10-25 18:38:13.962 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2024-10-25 18:38:13.962 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2024-10-25 18:38:13.962 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2024-10-25 18:38:13.962 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2024-10-25 18:38:13.978 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2024-10-25 18:38:13.978 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2024-10-25 18:38:13.978 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2024-10-25 18:38:14.448 [main] TRACE JwtUtil - Entering getRoles method in JwtUtils
2024-10-25 18:38:14.448 [main] DEBUG JwtUtil - Extracting roles from claims: {}
2024-10-25 18:38:14.448 [main] INFO  JwtUtil - Roles extracted: [ROLE_ADMIN]
2024-10-25 18:38:14.448 [main] TRACE JwtUtil - Exiting getRoles method in JwtUtils
2024-10-25 18:38:17.344 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 18:38:17.344 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2024-10-25 18:38:17.344 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2024-10-25 18:38:17.344 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 18:38:17.360 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 18:38:17.360 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2024-10-25 18:38:17.360 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2024-10-25 18:38:17.360 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 18:38:17.375 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 18:38:17.375 [main] DEBUG JwtUtil - Checking if token is logged out: token
2024-10-25 18:38:17.375 [main] ERROR JwtUtil - Logout status information not found for token: token
2024-10-25 18:38:17.375 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 18:38:17.375 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2024-10-25 18:38:17.375 [main] DEBUG JwtUtil - Validating token: null
2024-10-25 18:38:17.532 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2024-10-25 18:38:17.532 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2024-10-25 18:38:17.532 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2024-10-25 18:38:17.532 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2024-10-25 18:38:17.595 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2024-10-25 18:38:17.595 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2024-10-25 18:38:17.595 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2024-10-25 18:38:17.595 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2024-10-25 18:38:17.611 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2024-10-25 18:38:17.611 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2024-10-25 18:38:17.611 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2024-10-25 18:38:17.798 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2024-10-25 18:38:17.798 [main] DEBUG JwtUtil - Validating token: invalidToken
2024-10-25 18:38:17.798 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2024-10-25 18:38:17.798 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2024-10-25 18:38:17.798 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2024-10-25 18:38:17.798 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2024-10-25 18:38:17.798 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2024-10-25 18:38:17.798 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2024-10-25 18:38:17.798 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2024-10-25 18:38:17.814 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
