2025-01-24 20:52:50.237 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.272 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 20:52:50.275 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 20:52:50.276 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 20:52:50.281 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 20:52:50.283 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2025-01-24 20:52:50.283 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2025-01-24 20:52:50.354 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.355 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 20:52:50.356 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 20:52:50.356 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 20:52:50.357 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 20:52:50.358 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2025-01-24 20:52:50.447 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.449 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2025-01-24 20:52:50.450 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2025-01-24 20:52:50.451 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 20:52:50.452 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 20:52:50.454 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2025-01-24 20:52:50.455 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2025-01-24 20:52:50.466 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.468 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 20:52:50.468 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 20:52:50.469 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 20:52:50.479 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.480 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 20:52:50.481 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 20:52:50.481 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2025-01-24 20:52:50.482 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2025-01-24 20:52:50.491 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.492 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 20:52:50.493 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 20:52:50.494 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 20:52:50.504 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.506 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 20:52:50.506 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 20:52:50.507 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2025-01-24 20:52:50.507 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2025-01-24 20:52:50.514 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 20:52:50.515 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 20:52:50.516 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2025-01-24 20:52:50.795 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2025-01-24 20:52:50.795 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2025-01-24 20:52:50.796 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2025-01-24 20:52:50.802 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2025-01-24 20:52:50.802 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2025-01-24 20:52:50.803 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2025-01-24 20:52:50.806 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2025-01-24 20:52:50.806 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2025-01-24 20:52:50.807 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2025-01-24 20:52:50.810 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2025-01-24 20:52:50.810 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2025-01-24 20:52:50.811 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2025-01-24 20:52:50.814 [main] TRACE FallbackController - Entering fallbackAnalytics method in FallbackController
2025-01-24 20:52:50.814 [main] ERROR FallbackController - Analytics service is unavailable, executing fallback method
2025-01-24 20:52:50.815 [main] TRACE FallbackController - Exiting fallbackAnalytics method in FallbackController
2025-01-24 20:52:51.322 [main] TRACE JwtUtil - Entering getRoles method in JwtUtils
2025-01-24 20:52:51.323 [main] DEBUG JwtUtil - Extracting roles from claims: {}
2025-01-24 20:52:51.324 [main] INFO  JwtUtil - Roles extracted: [ROLE_ADMIN]
2025-01-24 20:52:51.324 [main] TRACE JwtUtil - Exiting getRoles method in JwtUtils
2025-01-24 20:52:54.807 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 20:52:54.807 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2025-01-24 20:52:54.808 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2025-01-24 20:52:54.809 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 20:52:54.818 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 20:52:54.818 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2025-01-24 20:52:54.826 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2025-01-24 20:52:54.827 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 20:52:54.834 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 20:52:54.835 [main] DEBUG JwtUtil - Checking if token is logged out: token
2025-01-24 20:52:54.836 [main] ERROR JwtUtil - Logout status information not found for token: token
2025-01-24 20:52:54.836 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 20:52:54.844 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 20:52:54.844 [main] DEBUG JwtUtil - Validating token: null
2025-01-24 20:52:55.010 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 20:52:55.010 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 20:52:55.014 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 20:52:55.014 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 20:52:55.064 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2025-01-24 20:52:55.065 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 20:52:55.073 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 20:52:55.074 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2025-01-24 20:52:55.076 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2025-01-24 20:52:55.078 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 20:52:55.088 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2025-01-24 20:52:55.212 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 20:52:55.213 [main] DEBUG JwtUtil - Validating token: invalidToken
2025-01-24 20:52:55.213 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 20:52:55.213 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 20:52:55.213 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 20:52:55.213 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 20:52:55.216 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2025-01-24 20:52:55.216 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 20:52:55.219 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2025-01-24 20:52:55.233 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
2025-01-24 21:01:39.330 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.364 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 21:01:39.368 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 21:01:39.369 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 21:01:39.371 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 21:01:39.373 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2025-01-24 21:01:39.374 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2025-01-24 21:01:39.451 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.452 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 21:01:39.452 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 21:01:39.452 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 21:01:39.453 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 21:01:39.455 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2025-01-24 21:01:39.557 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.560 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2025-01-24 21:01:39.561 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2025-01-24 21:01:39.562 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 21:01:39.563 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 21:01:39.564 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2025-01-24 21:01:39.566 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2025-01-24 21:01:39.579 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.581 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 21:01:39.582 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 21:01:39.583 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 21:01:39.595 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.598 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 21:01:39.599 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 21:01:39.599 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2025-01-24 21:01:39.600 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2025-01-24 21:01:39.611 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.613 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 21:01:39.613 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 21:01:39.614 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 21:01:39.624 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.625 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 21:01:39.627 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 21:01:39.627 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2025-01-24 21:01:39.629 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2025-01-24 21:01:39.637 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 21:01:39.638 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 21:01:39.638 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2025-01-24 21:01:40.114 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2025-01-24 21:01:40.114 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2025-01-24 21:01:40.115 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2025-01-24 21:01:40.125 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2025-01-24 21:01:40.126 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2025-01-24 21:01:40.127 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2025-01-24 21:01:40.135 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2025-01-24 21:01:40.135 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2025-01-24 21:01:40.136 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2025-01-24 21:01:40.139 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2025-01-24 21:01:40.141 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2025-01-24 21:01:40.141 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2025-01-24 21:01:40.144 [main] TRACE FallbackController - Entering fallbackAnalytics method in FallbackController
2025-01-24 21:01:40.145 [main] ERROR FallbackController - Analytics service is unavailable, executing fallback method
2025-01-24 21:01:40.145 [main] TRACE FallbackController - Exiting fallbackAnalytics method in FallbackController
2025-01-24 21:01:40.789 [main] TRACE JwtUtil - Entering getRoles method in JwtUtils
2025-01-24 21:01:40.790 [main] DEBUG JwtUtil - Extracting roles from claims: {}
2025-01-24 21:01:40.790 [main] INFO  JwtUtil - Roles extracted: [ROLE_ADMIN]
2025-01-24 21:01:40.790 [main] TRACE JwtUtil - Exiting getRoles method in JwtUtils
2025-01-24 21:01:44.209 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 21:01:44.211 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2025-01-24 21:01:44.211 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2025-01-24 21:01:44.212 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 21:01:44.219 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 21:01:44.219 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2025-01-24 21:01:44.223 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2025-01-24 21:01:44.224 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 21:01:44.232 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 21:01:44.232 [main] DEBUG JwtUtil - Checking if token is logged out: token
2025-01-24 21:01:44.233 [main] ERROR JwtUtil - Logout status information not found for token: token
2025-01-24 21:01:44.233 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 21:01:44.238 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 21:01:44.238 [main] DEBUG JwtUtil - Validating token: null
2025-01-24 21:01:44.372 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 21:01:44.373 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 21:01:44.375 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 21:01:44.376 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 21:01:44.423 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2025-01-24 21:01:44.423 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 21:01:44.429 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 21:01:44.430 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2025-01-24 21:01:44.431 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2025-01-24 21:01:44.431 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 21:01:44.438 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2025-01-24 21:01:44.611 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 21:01:44.612 [main] DEBUG JwtUtil - Validating token: invalidToken
2025-01-24 21:01:44.613 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 21:01:44.613 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 21:01:44.613 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 21:01:44.613 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 21:01:44.617 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2025-01-24 21:01:44.617 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 21:01:44.620 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2025-01-24 21:01:44.639 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
2025-01-24 23:02:15.086 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.103 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:02:15.104 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:02:15.104 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:02:15.106 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:02:15.107 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2025-01-24 23:02:15.107 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2025-01-24 23:02:15.149 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.150 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:02:15.150 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:02:15.150 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:02:15.151 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:02:15.151 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2025-01-24 23:02:15.202 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.203 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2025-01-24 23:02:15.204 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2025-01-24 23:02:15.204 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:02:15.204 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:02:15.206 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2025-01-24 23:02:15.207 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2025-01-24 23:02:15.213 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.215 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:02:15.215 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:02:15.215 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:02:15.221 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.221 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:02:15.222 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:02:15.222 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2025-01-24 23:02:15.222 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2025-01-24 23:02:15.228 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.229 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:02:15.229 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:02:15.229 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:02:15.235 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.236 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:02:15.236 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:02:15.236 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2025-01-24 23:02:15.237 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2025-01-24 23:02:15.242 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:02:15.243 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:02:15.243 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2025-01-24 23:02:15.474 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2025-01-24 23:02:15.474 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2025-01-24 23:02:15.475 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2025-01-24 23:02:15.479 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2025-01-24 23:02:15.479 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2025-01-24 23:02:15.479 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2025-01-24 23:02:15.481 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2025-01-24 23:02:15.482 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2025-01-24 23:02:15.482 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2025-01-24 23:02:15.484 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2025-01-24 23:02:15.484 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2025-01-24 23:02:15.484 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2025-01-24 23:02:15.488 [main] TRACE FallbackController - Entering fallbackAnalytics method in FallbackController
2025-01-24 23:02:15.488 [main] ERROR FallbackController - Analytics service is unavailable, executing fallback method
2025-01-24 23:02:15.488 [main] TRACE FallbackController - Exiting fallbackAnalytics method in FallbackController
2025-01-24 23:02:15.809 [main] TRACE JwtUtil - Entering getRoles method in JwtUtils
2025-01-24 23:02:15.809 [main] DEBUG JwtUtil - Extracting roles from claims: {}
2025-01-24 23:02:15.810 [main] INFO  JwtUtil - Roles extracted: [ROLE_ADMIN]
2025-01-24 23:02:15.810 [main] TRACE JwtUtil - Exiting getRoles method in JwtUtils
2025-01-24 23:02:17.478 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:02:17.478 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2025-01-24 23:02:17.478 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2025-01-24 23:02:17.480 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:02:17.484 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:02:17.484 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2025-01-24 23:02:17.486 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2025-01-24 23:02:17.487 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:02:17.492 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:02:17.492 [main] DEBUG JwtUtil - Checking if token is logged out: token
2025-01-24 23:02:17.492 [main] ERROR JwtUtil - Logout status information not found for token: token
2025-01-24 23:02:17.493 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:02:17.496 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:02:17.496 [main] DEBUG JwtUtil - Validating token: null
2025-01-24 23:02:17.568 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:02:17.569 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:02:17.571 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:02:17.571 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:02:17.596 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2025-01-24 23:02:17.596 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:02:17.600 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:02:17.600 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2025-01-24 23:02:17.601 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2025-01-24 23:02:17.601 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:02:17.604 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2025-01-24 23:02:17.702 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:02:17.704 [main] DEBUG JwtUtil - Validating token: invalidToken
2025-01-24 23:02:17.704 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:02:17.704 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:02:17.704 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:02:17.704 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:02:17.707 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2025-01-24 23:02:17.708 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:02:17.711 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2025-01-24 23:02:17.724 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
2025-01-24 23:33:37.147 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.163 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:33:37.165 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:33:37.165 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:33:37.167 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:33:37.168 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2025-01-24 23:33:37.168 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2025-01-24 23:33:37.212 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.212 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:33:37.213 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:33:37.213 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:33:37.213 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:33:37.214 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2025-01-24 23:33:37.268 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.269 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2025-01-24 23:33:37.270 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2025-01-24 23:33:37.270 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:33:37.270 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:33:37.271 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2025-01-24 23:33:37.272 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2025-01-24 23:33:37.279 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.280 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:33:37.280 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:33:37.280 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:33:37.287 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.287 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:33:37.288 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:33:37.288 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2025-01-24 23:33:37.288 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2025-01-24 23:33:37.294 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.295 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:33:37.295 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:33:37.296 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:33:37.301 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.303 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:33:37.303 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:33:37.304 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2025-01-24 23:33:37.304 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2025-01-24 23:33:37.309 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:33:37.309 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:33:37.310 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2025-01-24 23:33:37.579 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2025-01-24 23:33:37.579 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2025-01-24 23:33:37.580 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2025-01-24 23:33:37.585 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2025-01-24 23:33:37.585 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2025-01-24 23:33:37.585 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2025-01-24 23:33:37.588 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2025-01-24 23:33:37.588 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2025-01-24 23:33:37.589 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2025-01-24 23:33:37.591 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2025-01-24 23:33:37.591 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2025-01-24 23:33:37.592 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2025-01-24 23:33:37.594 [main] TRACE FallbackController - Entering fallbackAnalytics method in FallbackController
2025-01-24 23:33:37.594 [main] ERROR FallbackController - Analytics service is unavailable, executing fallback method
2025-01-24 23:33:37.595 [main] TRACE FallbackController - Exiting fallbackAnalytics method in FallbackController
2025-01-24 23:33:37.940 [main] TRACE JwtUtil - Entering getRoles method in JwtUtils
2025-01-24 23:33:37.941 [main] DEBUG JwtUtil - Extracting roles from claims: {}
2025-01-24 23:33:37.941 [main] INFO  JwtUtil - Roles extracted: [ROLE_ADMIN]
2025-01-24 23:33:37.941 [main] TRACE JwtUtil - Exiting getRoles method in JwtUtils
2025-01-24 23:33:39.713 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:33:39.713 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2025-01-24 23:33:39.714 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2025-01-24 23:33:39.715 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:33:39.720 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:33:39.721 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2025-01-24 23:33:39.724 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2025-01-24 23:33:39.724 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:33:39.730 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:33:39.730 [main] DEBUG JwtUtil - Checking if token is logged out: token
2025-01-24 23:33:39.730 [main] ERROR JwtUtil - Logout status information not found for token: token
2025-01-24 23:33:39.731 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:33:39.734 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:33:39.734 [main] DEBUG JwtUtil - Validating token: null
2025-01-24 23:33:39.814 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:33:39.814 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:33:39.816 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:33:39.816 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:33:39.845 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2025-01-24 23:33:39.846 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:33:39.850 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:33:39.850 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2025-01-24 23:33:39.851 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2025-01-24 23:33:39.851 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:33:39.854 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2025-01-24 23:33:39.962 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:33:39.962 [main] DEBUG JwtUtil - Validating token: invalidToken
2025-01-24 23:33:39.963 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:33:39.963 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:33:39.963 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:33:39.963 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:33:39.966 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2025-01-24 23:33:39.966 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:33:39.970 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2025-01-24 23:33:39.989 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
2025-01-24 23:57:16.079 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.097 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:57:16.099 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:57:16.099 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:57:16.100 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:57:16.101 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2025-01-24 23:57:16.102 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2025-01-24 23:57:16.146 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.147 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:57:16.147 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:57:16.148 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:57:16.148 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:57:16.149 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2025-01-24 23:57:16.203 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.204 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2025-01-24 23:57:16.204 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2025-01-24 23:57:16.205 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:57:16.205 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:57:16.206 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2025-01-24 23:57:16.207 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2025-01-24 23:57:16.214 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.215 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:57:16.215 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:57:16.216 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:57:16.222 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.223 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:57:16.223 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:57:16.223 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2025-01-24 23:57:16.223 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2025-01-24 23:57:16.229 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.229 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:57:16.230 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:57:16.230 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:57:16.236 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.237 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:57:16.237 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:57:16.239 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2025-01-24 23:57:16.239 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2025-01-24 23:57:16.243 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:57:16.244 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:57:16.244 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2025-01-24 23:57:16.508 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2025-01-24 23:57:16.508 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2025-01-24 23:57:16.508 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2025-01-24 23:57:16.514 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2025-01-24 23:57:16.514 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2025-01-24 23:57:16.514 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2025-01-24 23:57:16.517 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2025-01-24 23:57:16.517 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2025-01-24 23:57:16.517 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2025-01-24 23:57:16.520 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2025-01-24 23:57:16.521 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2025-01-24 23:57:16.521 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2025-01-24 23:57:16.523 [main] TRACE FallbackController - Entering fallbackAnalytics method in FallbackController
2025-01-24 23:57:16.524 [main] ERROR FallbackController - Analytics service is unavailable, executing fallback method
2025-01-24 23:57:16.524 [main] TRACE FallbackController - Exiting fallbackAnalytics method in FallbackController
2025-01-24 23:57:18.647 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:57:18.647 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2025-01-24 23:57:18.647 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2025-01-24 23:57:18.648 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:57:18.652 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:57:18.652 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2025-01-24 23:57:18.655 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2025-01-24 23:57:18.655 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:57:18.659 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:57:18.660 [main] DEBUG JwtUtil - Checking if token is logged out: token
2025-01-24 23:57:18.660 [main] ERROR JwtUtil - Logout status information not found for token: token
2025-01-24 23:57:18.660 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:57:18.663 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:57:18.664 [main] DEBUG JwtUtil - Validating token: null
2025-01-24 23:57:18.741 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:57:18.741 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:57:18.743 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:57:18.743 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:57:18.771 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2025-01-24 23:57:18.771 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:57:18.777 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:57:18.778 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2025-01-24 23:57:18.778 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2025-01-24 23:57:18.778 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:57:18.782 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2025-01-24 23:57:18.882 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:57:18.883 [main] DEBUG JwtUtil - Validating token: invalidToken
2025-01-24 23:57:18.883 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:57:18.883 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:57:18.883 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:57:18.883 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:57:18.888 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2025-01-24 23:57:18.888 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:57:18.894 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2025-01-24 23:57:18.908 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
2025-01-24 23:58:05.482 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.500 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:58:05.502 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:58:05.502 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:58:05.504 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:58:05.505 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: null
2025-01-24 23:58:05.505 [main] ERROR AuthGatewayFilterFactory - No roles found in token for user: testuser
2025-01-24 23:58:05.550 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.550 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:58:05.551 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:58:05.551 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:58:05.551 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:58:05.552 [main] TRACE AuthGatewayFilterFactory - Exiting apply method in AuthGatewayFilterFactory class with successful authentication
2025-01-24 23:58:05.606 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.608 [main] INFO  AuthGatewayFilterFactory - Processing request for path: /user/me
2025-01-24 23:58:05.608 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: /user/me
2025-01-24 23:58:05.608 [main] DEBUG AuthGatewayFilterFactory - Extracted token: ValidToken
2025-01-24 23:58:05.609 [main] INFO  AuthGatewayFilterFactory - Authenticated user: testuser
2025-01-24 23:58:05.609 [main] DEBUG AuthGatewayFilterFactory - Role-based authorization needed for path: /user/me
2025-01-24 23:58:05.610 [main] ERROR AuthGatewayFilterFactory - User testuser does not have sufficient roles for path: /user/me
2025-01-24 23:58:05.617 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.618 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:58:05.619 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:58:05.619 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:58:05.625 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.626 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:58:05.626 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:58:05.627 [main] DEBUG AuthGatewayFilterFactory - Extracted token: InvalidToken
2025-01-24 23:58:05.627 [main] ERROR AuthGatewayFilterFactory - Invalid token for request path: null
2025-01-24 23:58:05.634 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.635 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:58:05.635 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:58:05.636 [main] ERROR AuthGatewayFilterFactory - Missing or invalid authorization header for request path: null
2025-01-24 23:58:05.642 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.643 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:58:05.643 [main] DEBUG AuthGatewayFilterFactory - Request is to a secured route: null
2025-01-24 23:58:05.643 [main] DEBUG AuthGatewayFilterFactory - Extracted token: LoggedOutToken
2025-01-24 23:58:05.644 [main] ERROR AuthGatewayFilterFactory - Token is logged out: LoggedOutToken
2025-01-24 23:58:05.650 [main] TRACE AuthGatewayFilterFactory - Entering apply method in AuthGatewayFilterFactory class
2025-01-24 23:58:05.651 [main] INFO  AuthGatewayFilterFactory - Processing request for path: null
2025-01-24 23:58:05.651 [main] DEBUG AuthGatewayFilterFactory - Request is to an unsecured route: null
2025-01-24 23:58:05.913 [main] TRACE FallbackController - Entering fallbackReport method in FallbackController
2025-01-24 23:58:05.913 [main] ERROR FallbackController - Report service is unavailable, executing fallback method
2025-01-24 23:58:05.913 [main] TRACE FallbackController - Exiting fallbackReport method in FallbackController
2025-01-24 23:58:05.919 [main] TRACE FallbackController - Entering fallbackUser method in FallbackController
2025-01-24 23:58:05.919 [main] ERROR FallbackController - User service is unavailable, executing fallback method
2025-01-24 23:58:05.919 [main] TRACE FallbackController - Exiting fallbackUser method in FallbackController
2025-01-24 23:58:05.922 [main] TRACE FallbackController - Entering fallbackAuth method in FallbackController
2025-01-24 23:58:05.923 [main] ERROR FallbackController - Auth service is unavailable, executing fallback method
2025-01-24 23:58:05.923 [main] TRACE FallbackController - Exiting fallbackAuth method in FallbackController
2025-01-24 23:58:05.926 [main] TRACE FallbackController - Entering fallbackPatient method in FallbackController
2025-01-24 23:58:05.926 [main] ERROR FallbackController - Patient service is unavailable, executing fallback method
2025-01-24 23:58:05.927 [main] TRACE FallbackController - Exiting fallbackPatient method in FallbackController
2025-01-24 23:58:05.929 [main] TRACE FallbackController - Entering fallbackAnalytics method in FallbackController
2025-01-24 23:58:05.929 [main] ERROR FallbackController - Analytics service is unavailable, executing fallback method
2025-01-24 23:58:05.930 [main] TRACE FallbackController - Exiting fallbackAnalytics method in FallbackController
2025-01-24 23:58:07.907 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:58:07.908 [main] DEBUG JwtUtil - Checking if token is logged out: nonExistentToken
2025-01-24 23:58:07.908 [main] ERROR JwtUtil - Token not found in Redis: nonExistentToken
2025-01-24 23:58:07.909 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:58:07.913 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:58:07.913 [main] DEBUG JwtUtil - Checking if token is logged out: loggedOutToken
2025-01-24 23:58:07.915 [main] INFO  JwtUtil - Token loggedOutToken logout status: true
2025-01-24 23:58:07.915 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:58:07.919 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:58:07.920 [main] DEBUG JwtUtil - Checking if token is logged out: token
2025-01-24 23:58:07.920 [main] ERROR JwtUtil - Logout status information not found for token: token
2025-01-24 23:58:07.920 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:58:07.923 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:58:07.923 [main] DEBUG JwtUtil - Validating token: null
2025-01-24 23:58:08.003 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:58:08.003 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:58:08.005 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:58:08.005 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:58:08.035 [main] ERROR JwtUtil - Error while parsing token: CharSequence cannot be null or empty.
2025-01-24 23:58:08.035 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:58:08.039 [main] TRACE JwtUtil - Entering isLoggedOut method in JwtUtils
2025-01-24 23:58:08.040 [main] DEBUG JwtUtil - Checking if token is logged out: notLoggedOutToken
2025-01-24 23:58:08.040 [main] INFO  JwtUtil - Token notLoggedOutToken logout status: false
2025-01-24 23:58:08.040 [main] TRACE JwtUtil - Exiting isLoggedOut method in JwtUtils
2025-01-24 23:58:08.044 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: invalidPort
2025-01-24 23:58:08.136 [main] TRACE JwtUtil - Entering getClaimsAndValidate method in JwtUtils
2025-01-24 23:58:08.137 [main] DEBUG JwtUtil - Validating token: invalidToken
2025-01-24 23:58:08.137 [main] TRACE JwtUtil - Entering getSignInKey method in JwtUtils
2025-01-24 23:58:08.137 [main] DEBUG JwtUtil - Retrieving secret key for JWT validation.
2025-01-24 23:58:08.137 [main] DEBUG JwtUtil - Secret key retrieved successfully.
2025-01-24 23:58:08.137 [main] TRACE JwtUtil - Exiting getSignInKey method in JwtUtils
2025-01-24 23:58:08.140 [main] ERROR JwtUtil - Error while parsing token: Invalid compact JWT string: Compact JWSs must contain exactly 2 period characters, and compact JWEs must contain exactly 4.  Found: 0
2025-01-24 23:58:08.141 [main] TRACE JwtUtil - Exiting getClaimsAndValidate method in JwtUtils
2025-01-24 23:58:08.144 [main] TRACE JwtUtil - Initializing Redis connection pool with host: localhost, port: 6379
2025-01-24 23:58:08.158 [main] TRACE JwtUtil - Redis connection pool initialized successfully.
